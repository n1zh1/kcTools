var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,f){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,f):$jscomp.polyfillUnisolated(a,b,c,f))};
$jscomp.polyfillUnisolated=function(a,b,c,f){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var d=a[f];if(!(d in c))return;c=c[d]}a=a[a.length-1];f=c[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,f){var d=a.split(".");a=1===d.length;f=d[0];f=!a&&f in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var g=0;g<d.length-1;g++){var e=d[g];if(!(e in f))return;f=f[e]}d=d[d.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?f[d]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,d,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[d]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[d]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(d):$jscomp.POLYFILL_PREFIX+c+"$"+d),$jscomp.defineProperty(f,$jscomp.propertyToPolyfillSymbol[d],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var f=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(f);if(!f.done)return this.context_.stop_(),f;var d=f.value}catch(g){return this.context_.yieldAllIterator_=null,this.context_.throw_(g),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(f){return a.next(f)}function c(f){return a.throw(f)}return new Promise(function(f,d){function g(e){e.done?f(e.value):Promise.resolve(e.value).then(b,c).then(g,d)}g(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(g,e){this.$jscomp$symbol$id_=g;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",f=0,d=function(g){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b(c+(g||"")+"_"+f++,g)};return d},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var f=$jscomp.global[b[c]];"function"===typeof f&&"function"!=typeof f.prototype[a]&&$jscomp.defineProperty(f.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(e){return e instanceof d?e:new d(function(h,k){h(e)})}if(a&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return a;b.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(e)};
var f=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(e){f(e,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var h=0;h<e.length;++h){var k=e[h];e[h]=null;try{k()}catch(m){this.asyncThrow_(m)}}}this.batch_=null};b.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e;})};var d=function(e){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var h=this.createResolveAndReject_();
try{e(h.resolve,h.reject)}catch(k){h.reject(k)}};d.prototype.createResolveAndReject_=function(){function e(m){return function(p){k||(k=!0,m.call(h,p))}}var h=this,k=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}};d.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof d)this.settleSameAsPromise_(e);else{a:switch(typeof e){case "object":var h=null!=e;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(e):
this.fulfill_(e)}};d.prototype.resolveToNonPromiseObj_=function(e){var h=void 0;try{h=e.then}catch(k){this.reject_(k);return}"function"==typeof h?this.settleSameAsThenable_(h,e):this.fulfill_(e)};d.prototype.reject_=function(e){this.settle_(2,e)};d.prototype.fulfill_=function(e){this.settle_(1,e)};d.prototype.settle_=function(e,h){if(0!=this.state_)throw Error("Cannot settle("+e+", "+h+"): Promise already settled in state"+this.state_);this.state_=e;this.result_=h;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};d.prototype.scheduleUnhandledRejectionCheck_=function(){var e=this;f(function(){if(e.notifyUnhandledRejection_()){var h=$jscomp.global.console;"undefined"!==typeof h&&h.error(e.result_)}},1)};d.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var e=$jscomp.global.CustomEvent,h=$jscomp.global.Event,k=$jscomp.global.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):
"function"===typeof h?e=new h("unhandledrejection",{cancelable:!0}):(e=$jscomp.global.document.createEvent("CustomEvent"),e.initCustomEvent("unhandledrejection",!1,!0,e));e.promise=this;e.reason=this.result_;return k(e)};d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)g.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var g=new b;d.prototype.settleSameAsPromise_=function(e){var h=this.createResolveAndReject_();
e.callWhenSettled_(h.resolve,h.reject)};d.prototype.settleSameAsThenable_=function(e,h){var k=this.createResolveAndReject_();try{e.call(h,k.resolve,k.reject)}catch(m){k.reject(m)}};d.prototype.then=function(e,h){function k(u,q){return"function"==typeof u?function(l){try{m(u(l))}catch(v){p(v)}}:q}var m,p,r=new d(function(u,q){m=u;p=q});this.callWhenSettled_(k(e,m),k(h,p));return r};d.prototype.catch=function(e){return this.then(void 0,e)};d.prototype.callWhenSettled_=function(e,h){function k(){switch(m.state_){case 1:e(m.result_);
break;case 2:h(m.result_);break;default:throw Error("Unexpected state: "+m.state_);}}var m=this;null==this.onSettledCallbacks_?g.asyncExecute(k):this.onSettledCallbacks_.push(k);this.isRejectionHandled_=!0};d.resolve=c;d.reject=function(e){return new d(function(h,k){k(e)})};d.race=function(e){return new d(function(h,k){for(var m=$jscomp.makeIterator(e),p=m.next();!p.done;p=m.next())c(p.value).callWhenSettled_(h,k)})};d.all=function(e){var h=$jscomp.makeIterator(e),k=h.next();return k.done?c([]):new d(function(m,
p){function r(l){return function(v){u[l]=v;q--;0==q&&m(u)}}var u=[],q=0;do u.push(void 0),q++,c(k.value).callWhenSettled_(r(u.length-1),p),k=h.next();while(!k.done)})};return d},"es6","es3");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var f=a.length,d=0;d<f;d++){var g=a[d];if(b.call(c,g,d,a))return{i:d,v:g}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).i}},"es6","es3");
function initialize(){location.search&&(window.location.href="../simulator/"+location.search);document.getElementById("confirm_tab_close").checked=setting.confirmTabClosing;document.getElementById("presets_order").value=setting.presetsOrder;document.getElementById("empty_folder_visible").checked=setting.visibleEmptyFolder;$(".fleet_tab.active").removeClass("active");setLocalPresets();loadSessionStorage("display_public")&&$("#public_preset_tab").tab("show")}
function setLocalPresets(){var a=loadLocalStorage("presets");a||(a=[]);$("#btn_search_preset").prop("disabled",!1);setPresets(a);$(".folder_content").on("show.bs.collapse",function(){folder_content_Show($(this))});$(".folder_content").on("hide.bs.collapse",function(){folder_content_Hide($(this))})}
function setPresets(a,b){var c=(b=void 0===b?!0:b)?"presets_container":"public_presets_container",f=castInt(document.getElementById("presets_order").value),d=document.getElementById("search_preset").value.trim(),g=document.getElementById("empty_folder_visible").checked;setting.visibleEmptyFolder=g;b&&d&&(a=a.filter(function(x){return 0<=x[1].indexOf(d)}));if(b)switch(f){case 1:a.sort(function(x,w){return x[4]<w[4]?1:-1});break;case 2:a.sort(function(x,w){return x[4]>w[4]?1:-1});break;case 3:a.sort(function(x,
w){return x[1]<w[1]?1:-1});break;case 4:a.sort(function(x,w){return x[1]>w[1]?1:-1})}setting.presetsOrder=f;saveSetting();var e=0===f&&!d&&b,h=document.createDocumentFragment();if(b){var k=createDiv("preset_container new d-flex "+(a.length?"":"border_delete")),m=createDiv("new_body mx-auto my-auto","",a.length?"\u65b0\u898f\u4f5c\u6210":"\u7de8\u6210\u3092\u65b0\u898f\u4f5c\u6210");k.appendChild(m);h.appendChild(k)}else b||0!==a.length||(k=createDiv("d-flex empty_container"),m=createDiv("mx-auto my-auto",
"","\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002"),k.appendChild(m),h.appendChild(k));m=setting.presetFolders;k=[];for(var p={},r=0;r<m.length;p={$jscomp$loop$prop$folder$32:p.$jscomp$loop$prop$folder$32},r++){p.$jscomp$loop$prop$folder$32=m[r];var u=createDiv(),q=a.filter(function(x){return function(w){return 6<=w.length&&w[5]===x.$jscomp$loop$prop$folder$32.id}}(p)).length,l=createDiv("preset_container folder_header "+(0!==q||g?"":"d-none"));q&&(l.dataset.toggle=
"collapse",l.dataset.target="#folder"+p.$jscomp$loop$prop$folder$32.id);l.dataset.folderid=p.$jscomp$loop$prop$folder$32.id;var v=createDiv("d-flex my-auto ml-3 mr-2"),t=createDiv("preset_name align-self-center");t.innerHTML='<i class="fas fa-folder'+(q?"-open":" opacity4")+' mr-2 cur_move handle"></i>'+p.$jscomp$loop$prop$folder$32.name;v.appendChild(t);t=createDiv("ml-3 font_size_12 align-self-center font_color_half preset_count");t.textContent="( "+q+"\u4ef6 )";q&&v.appendChild(t);t=document.createElement("input");
t.type="text";t.maxLength=50;t.className="form-control form-control-sm preset_name_edit mb-1 mr-3 d-none";t.value=p.$jscomp$loop$prop$folder$32.name;v.appendChild(t);t=createDiv("d-flex ml-auto btns_container");var n=createDiv("ml-auto r_btn btn_commit_folder d-none");n.dataset.toggle="tooltip";n.dataset.offset="-50%";n.title="\u9078\u629e\u3057\u305f\u7de8\u6210\u3092\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002";n.innerHTML='<i class="fas fa-save"></i>';t.appendChild(n);
n=createDiv("ml-2 r_btn btn_rollback_folder d-none");n.dataset.toggle="tooltip";n.dataset.offset="-50%";n.title="\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3059\u3002";n.innerHTML='<i class="fas fa-undo"></i>';t.appendChild(n);n=createDiv("ml-auto r_btn btn_add_preset");n.dataset.toggle="tooltip";n.dataset.offset="-50%";n.title="\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u79fb\u52d5\u3055\u305b\u308b\u7de8\u6210\u3092\u4e00\u62ec\u3067\u9078\u629e\u3057\u307e\u3059\u3002";n.innerHTML='<i class="fas fa-folder-download"></i>';
t.appendChild(n);n=createDiv("ml-auto r_btn btn_commit d-none");n.dataset.toggle="tooltip";n.dataset.offset="-50%";n.title="\u7de8\u96c6\u5185\u5bb9\u3092\u78ba\u5b9a\u3057\u307e\u3059\u3002";n.innerHTML='<i class="fas fa-save"></i>';t.appendChild(n);n=createDiv("ml-2 r_btn btn_rollback d-none");n.dataset.toggle="tooltip";n.dataset.offset="-50%";n.title="\u7de8\u96c6\u5185\u5bb9\u3092\u53d6\u308a\u6d88\u3057\u307e\u3059\u3002";n.innerHTML='<i class="fas fa-undo"></i>';t.appendChild(n);n=createDiv("ml-2 r_btn btn_edit_start");
n.dataset.toggle="tooltip";n.dataset.offset="-50%";n.title="\u30d5\u30a9\u30eb\u30c0\u30fc\u540d\u306e\u5909\u66f4\u3092\u884c\u3044\u307e\u3059\u3002";n.innerHTML='<i class="fas fa-pencil"></i>';t.appendChild(n);v.appendChild(t);l.appendChild(v);v=document.createElement("div");v.id="folder"+p.$jscomp$loop$prop$folder$32.id;v.dataset.folderid=p.$jscomp$loop$prop$folder$32.id;v.className="folder_content pl-5";q&&(v.classList.add("collapse"),p.$jscomp$loop$prop$folder$32.isOpen&&v.classList.add("show"));
u.appendChild(v);k.push({id:p.$jscomp$loop$prop$folder$32.id,header:l,container:v})}g=createDiv("","preset_sortable_container");m={};a=$jscomp.makeIterator(a);for(p=a.next();!p.done;m={$jscomp$loop$prop$preset$34:m.$jscomp$loop$prop$preset$34},p=a.next())if(m.$jscomp$loop$prop$preset$34=p.value,m.$jscomp$loop$prop$preset$34[1]&&!(b&&d&&0>m.$jscomp$loop$prop$preset$34[1].indexOf(d))){p=createDiv();r=createDiv("preset_container");r.dataset.presetid=m.$jscomp$loop$prop$preset$34[0];b||(r.dataset.presetdata=
m.$jscomp$loop$prop$preset$34[2]);u=createDiv("preset_header");r.appendChild(u);u=createDiv("preset_body d-flex mx-2");e&&(q=createDiv("mt-4 sortable_handle_parent align-self-center"),q.innerHTML='<i class="sortable_handle fa-menu2"></i>',u.appendChild(q));q=createDiv("mr-2 preset_abstract flex-grow-1");q.appendChild(createDiv("preset_name","",m.$jscomp$loop$prop$preset$34[1]));l=document.createElement("input");l.type="text";l.maxLength=50;l.className="form-control form-control-sm preset_name_edit mb-1 d-none";
l.value=m.$jscomp$loop$prop$preset$34[1];q.appendChild(l);t=decodePreset(m.$jscomp$loop$prop$preset$34[2])[1];l=createDiv("d-flex ships flex-wrap");v=5;t.length&&6<=t[0].length&&2===t[0][5]&&(v=6);t=$jscomp.makeIterator(t);for(n=t.next();!n.done;n=t.next()){n=n.value;if(l.childNodes.length>v)break;if(!(0>=n[0])){var B=document.createElement("img");B.className="ship_image";B.width=100;B.height=25;B.src="../img/ship/"+n[0]+".png";l.appendChild(B)}}q.appendChild(l);l=createDiv("preset_memo_view border mt-1 px-1 py-1 "+
(m.$jscomp$loop$prop$preset$34[3]?"":"d-none"),"");l.textContent=AutoLink(m.$jscomp$loop$prop$preset$34[3]);q.appendChild(l);l=document.createElement("textarea");l.className="form-control preset_memo mt-1 w-100 d-none";l.value=m.$jscomp$loop$prop$preset$34[3]?m.$jscomp$loop$prop$preset$34[3]:"";v=l.value.match(/\n/g);l.rows=v&&v.length?v.length+2:2;q.appendChild(l);u.appendChild(q);q=createDiv("d-flex ml-auto pt-2 btns_container");b?(l=createDiv("ml-auto r_btn btn_commit d-none"),l.dataset.toggle=
"tooltip",l.dataset.offset="-50%",l.title="\u7de8\u96c6\u5185\u5bb9\u3092\u78ba\u5b9a\u3057\u307e\u3059\u3002",l.innerHTML='<i class="fas fa-save"></i>',q.appendChild(l),l=createDiv("ml-2 r_btn btn_rollback d-none"),l.dataset.toggle="tooltip",l.dataset.offset="-50%",l.title="\u7de8\u96c6\u5185\u5bb9\u3092\u53d6\u308a\u6d88\u3057\u307e\u3059\u3002",l.innerHTML='<i class="fas fa-undo"></i>',q.appendChild(l),l=createDiv("ml-auto r_btn btn_edit_start"),l.dataset.toggle="tooltip",l.dataset.offset="-50%",
l.title="\u7de8\u6210\u540d\u3084\u7de8\u6210\u30e1\u30e2\u306e\u5909\u66f4\u3092\u884c\u3044\u307e\u3059\u3002",l.innerHTML='<i class="fas fa-pencil"></i>',q.appendChild(l),l=createDiv("ml-2 r_btn btn_share"),l.dataset.toggle="tooltip",l.dataset.offset="-50%",l.title="\u7de8\u6210\u306e\u5171\u6709\u3092\u884c\u3044\u307e\u3059\u3002",l.innerHTML='<i class="fas fa-share-alt"></i>',q.appendChild(l),l=createDiv("ml-2 r_btn btn_copy"),l.dataset.toggle="tooltip",l.dataset.offset="-50%",l.title="\u7de8\u6210\u3092\u8907\u88fd\u3057\u3066\u65b0\u3057\u3044\u7de8\u6210\u30bf\u30d6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",
l.innerHTML='<i class="fas fa-copy"></i>',q.appendChild(l),l=createDiv("ml-2 r_btn btn_move_folder"),l.dataset.toggle="tooltip",l.dataset.offset="-50%",l.title="\u6240\u5c5e\u30d5\u30a9\u30eb\u30c0\u30fc\u3092\u5909\u66f4\u3057\u307e\u3059\u3002",l.innerHTML='<i class="fas fa-folder-upload"></i>',q.appendChild(l),l=createDiv("ml-2 r_btn btn_delete"),l.dataset.toggle="tooltip",l.dataset.offset="-50%",l.title="\u7de8\u6210\u3092\u524a\u9664\u3057\u307e\u3059\u3002",l.innerHTML='<i class="fas fa-trash-o"></i>',
q.appendChild(l)):(l=createDiv("ml-2 r_btn btn_open"),l.dataset.toggle="tooltip",l.dataset.offset="-50%",l.title="\u7de8\u6210\u3092\u5c55\u958b\u3057\u307e\u3059\u3002",l.innerHTML='<i class="fas fa-folder-open-o"></i>',q.appendChild(l));u.appendChild(q);r.appendChild(u);b?(u=createDiv("update_date mr-1","","\u66f4\u65b0\u65e5\u6642: "+(m.$jscomp$loop$prop$preset$34[4]?m.$jscomp$loop$prop$preset$34[4].split(".")[0]:"-")),r.appendChild(u)):(u=createDiv("update_date mr-3","",(m.$jscomp$loop$prop$preset$34[5]?
"\u4f5c\u6210\u8005: "+m.$jscomp$loop$prop$preset$34[5]+"\u3000":"")+" "+(m.$jscomp$loop$prop$preset$34[4]?m.$jscomp$loop$prop$preset$34[4].split(".")[0]:"-")),r.appendChild(u));p.appendChild(r);b&&6<=m.$jscomp$loop$prop$preset$34.length?(r=k.find(function(x){return function(w){return w.id===x.$jscomp$loop$prop$preset$34[5]}}(m)))?r.container.appendChild(p):g.appendChild(p):g.appendChild(p)}h.appendChild(g);if(b){e=createDiv("","foldersParent");k=$jscomp.makeIterator(k);for(g=k.next();!g.done;g=k.next())g=
g.value,m=createDiv(),m.appendChild(g.header),m.appendChild(g.container),e.appendChild(m);h.appendChild(e)}!b&&prevSnapShot&&(e=createDiv("d-flex preset_container more_load"),k=createDiv("mx-auto my-auto","","\u3082\u3063\u3068\u8aad\u307f\u8fbc\u3080"),e.appendChild(k),h.appendChild(e));document.getElementById(c).innerHTML="";document.getElementById(c).appendChild(h);$("#"+c+" .r_btn").tooltip();if(0===f&&!d&&b)for(Sortable.create(document.getElementById("preset_sortable_container"),{animation:200,
handle:".sortable_handle",onStart:function(){document.getElementById("header").classList.add("d-none");document.getElementById("main_footer").classList.add("d-none")},onEnd:function(){document.getElementById("header").classList.remove("d-none");document.getElementById("main_footer").classList.remove("d-none");for(var x=loadLocalStorage("presets"),w=[],z={},A=$jscomp.makeIterator(document.getElementsByClassName("preset_container")),y=A.next();!y.done;z={$jscomp$loop$prop$c$36:z.$jscomp$loop$prop$c$36},
y=A.next())z.$jscomp$loop$prop$c$36=y.value,(y=x.find(function(C){return function(D){return D[0]===C.$jscomp$loop$prop$c$36.dataset.presetid}}(z)))&&w.push(y);w.length&&(saveLocalStorage("presets",w),inform_success("\u7de8\u6210\u30c7\u30fc\u30bf\u306e\u9806\u5e8f\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002"))}}),c=setting.presetFolders,f=0;f<c.length;f++)Sortable.create(document.getElementById("folder"+c[f].id),{animation:200,handle:".sortable_handle",onStart:function(){document.getElementById("header").classList.add("d-none");
document.getElementById("main_footer").classList.add("d-none")},onEnd:function(){document.getElementById("header").classList.remove("d-none");document.getElementById("main_footer").classList.remove("d-none");for(var x=loadLocalStorage("presets"),w=[],z={},A=$jscomp.makeIterator(document.getElementsByClassName("preset_container")),y=A.next();!y.done;z={$jscomp$loop$prop$c$38:z.$jscomp$loop$prop$c$38},y=A.next())z.$jscomp$loop$prop$c$38=y.value,(y=x.find(function(C){return function(D){return D[0]===
C.$jscomp$loop$prop$c$38.dataset.presetid}}(z)))&&w.push(y);w.length&&(saveLocalStorage("presets",w),inform_success("\u7de8\u6210\u30c7\u30fc\u30bf\u306e\u9806\u5e8f\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002"))}});b&&document.getElementById("foldersParent")&&Sortable.create(document.getElementById("foldersParent"),{animation:200,handle:".handle",onStart:function(){document.getElementById("header").classList.add("d-none");document.getElementById("main_footer").classList.add("d-none")},
onEnd:function(){document.getElementById("header").classList.remove("d-none");document.getElementById("main_footer").classList.remove("d-none");for(var x=setting.presetFolders,w=[],z={},A=$jscomp.makeIterator(document.getElementsByClassName("folder_header")),y=A.next();!y.done;z={$jscomp$loop$prop$c$40:z.$jscomp$loop$prop$c$40},y=A.next())z.$jscomp$loop$prop$c$40=y.value,(y=x.find(function(C){return function(D){return D.id===castInt(C.$jscomp$loop$prop$c$40.dataset.folderid)}}(z)))&&w.push(y);w.length&&
(setting.presetFolders=w,saveSetting(),inform_success("\u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u9806\u5e8f\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002"))}})}
function map_select_Changed(){var a=castInt($("#map_select").val());$("#btn_search_preset").prop("disabled",!1);$("#presets_order").removeClass("d-none");400<a?($("#select_preset_level").parent().removeClass("d-none"),$("#select_preset_level").val(4)):0===a?($("#presets_order").val(1),$("#presets_order").change(),$("#presets_order").addClass("d-none")):($("#select_preset_level").parent().addClass("d-none"),$("#select_preset_level").val(0))}var prevSnapShot=null,STEP=20;
function searchUploadedPreset(){var a=getPublicPresetsQuery(),b=[];fb||initializeFB();if(fb){var c=null;c=a.map?fb.collection("presets").where("map","==",a.map).where("level","==",a.level).orderBy(a.sortKey,a.order).limit(STEP):fb.collection("presets").orderBy(a.sortKey,a.order).limit(STEP);c.get().then(function(f){prevSnapShot=f.docs[f.docs.length-1];f.forEach(function(d){var g=d.data();d=d.data().createdAt?d.data().createdAt.toDate():new Date;d=["",g.name+(0===a.map&&0<g.level?"\u3010"+DIFFICULTY.find(function(e){return e.id===
g.level}).name+"\u3011":""),g.data,g.memo,formatDate(d,"yyyy/MM/dd HH:mm"),g.user];b.push(d)});if(b.length<STEP||!a.map)prevSnapShot=null;setPresets(b,!1);saveSessionStorage("search_result",{map:a.map,level:a.level,sortKey:a.sortKey,order:a.order,presets:b})}).catch(function(f){console.error(f);inform_danger("\u7de8\u6210\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")})}}
function getPublicPresetsQuery(){$("#btn_search_preset").prop("disabled",!0);var a=castInt($("#map_select").val()),b=400<a?castInt($("#select_preset_level").val()):0,c="createdAt",f="desc";switch(castInt(document.getElementById("presets_order").value)){case 2:f="asc";break;case 3:c="name";break;case 4:c="name",f="asc"}return{map:a,level:b,sortKey:c,order:f}}
function more_load_presets(){var a=$(".more_load");a.html('<div class="w-100 text-center py-3"><div class="spinner-border" role="status"><span class="sr-only"></span></div></div>');a.removeClass("more_load");var b=getPublicPresetsQuery();if((a=loadSessionStorage("search_result"))&&prevSnapShot)if(a.map!==b.map||a.level!==b.level||a.sortKey!==b.sortKey||a.order!==b.order)searchUploadedPreset();else{var c=a.presets;fb||initializeFB();fb&&fb.collection("presets").where("map","==",b.map).where("level",
"==",b.level).orderBy(b.sortKey,b.order).startAfter(prevSnapShot).limit(STEP).get().then(function(f){prevSnapShot=f.docs[f.docs.length-1];f.forEach(function(d){var g=d.data();d=d.data().createdAt?d.data().createdAt.toDate():new Date;g=["",g.name,g.data,g.memo,formatDate(d,"yyyy/MM/dd HH:mm"),g.user];c.push(g)});f.docs.length<STEP&&(prevSnapShot=null);setPresets(c,!1);saveSessionStorage("search_result",{map:b.map,level:b.level,sortKey:b.sortKey,order:b.order,presets:c})}).catch(function(f){console.error(f);
inform_danger("\u7de8\u6210\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")})}else searchUploadedPreset()}
function btn_add_preset_Clicked(a,b){b.stopPropagation();a=a.closest(".preset_container");a.find(".btn_edit_start").addClass("d-none");a.find(".btn_add_preset").addClass("d-none");a.find(".btn_commit_folder").removeClass("d-none");a.find(".btn_rollback_folder").removeClass("d-none");$(".preset_container:not(.folder_header)").addClass("folder_selectable");$(".btns_container").addClass("d-none").removeClass("d-flex");a.find(".btns_container").removeClass("d-none").addClass("d-flex");inform_success("\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u79fb\u52d5\u3055\u305b\u308b\u7de8\u6210\u3092\u9078\u629e\u3057\u3001\u4fdd\u5b58\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}
function btn_commit_folder_Clicked(a,b){b.stopPropagation();var c=a.closest(".preset_container");c.find(".btn_commit_folder").tooltip("hide");var f=castInt(c[0].dataset.folderid);if(c=setting.presetFolders.find(function(g){return g.id===f})){var d=loadLocalStorage("presets");$(".folder_selectable.selected").each(function(g,e){var h=$(e)[0].dataset.presetid;(g=d?d.find(function(k){return k[0]===h}):null)&&6<=g.length?g[5]=f:g&&5===g.length&&g.push(f)});saveLocalStorage("presets",d);setLocalPresets();
inform_success("\u9078\u629e\u3055\u308c\u305f\u7de8\u6210\u3092\u30d5\u30a9\u30eb\u30c0\u30fc\u300e"+c.name+"\u300f\u306b\u79fb\u52d5\u3057\u307e\u3057\u305f\u3002")}else inform_danger("\u30d5\u30a9\u30eb\u30c0\u30fc\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"),btn_rollback_folder_Clicked(a,b)}
function btn_rollback_folder_Clicked(a,b){b.stopPropagation();a=a.closest(".preset_container");a.find(".btn_edit_start").removeClass("d-none");a.find(".btn_add_preset").removeClass("d-none");a.find(".btn_commit_folder").addClass("d-none");a.find(".btn_rollback_folder").addClass("d-none");$(".folder_selectable").removeClass("folder_selectable");$(".btns_container").removeClass("d-none").addClass("d-flex")}
function folder_selectable_Clicked(a){a.hasClass("selected")?a.removeClass("selected"):a.addClass("selected")}function folder_content_Show(a){var b=castInt(a[0].dataset.folderid);if(a=setting.presetFolders.find(function(c){return c.id===b}))a.isOpen=!0,saveSetting()}function folder_content_Hide(a){var b=castInt(a[0].dataset.folderid);if(a=setting.presetFolders.find(function(c){return c.id===b}))a.isOpen=!1,saveSetting()}
function btn_edit_start_Clicked(a,b){b.stopPropagation();$(".preset_container.editting").each(function(c,f){btn_rollback_Clicked($(f).find(".btn_rollback"));inform_warning($(f).find(".preset_name").text()+"\u306e\u7de8\u96c6\u306f\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3057\u305f\u3002")});a=a.closest(".preset_container");a.addClass("editting");a.removeClass("sortable_handle");a.find(".preset_name").addClass("d-none");a.find(".preset_count").addClass("d-none");a.find(".preset_name_edit").removeClass("d-none");
a.find(".preset_memo").removeClass("d-none");a.find(".preset_memo_view").addClass("d-none");a.find(".btn_commit").removeClass("d-none");a.find(".btn_rollback").removeClass("d-none");a.find(".btn_copy").addClass("d-none");a.find(".btn_move_folder").addClass("d-none");a.find(".btn_edit_start").addClass("d-none");a.find(".btn_add_preset").addClass("d-none")}
function btn_rollback_Clicked(a,b){(b=void 0===b?null:b)&&b.stopPropagation();a=a.closest(".preset_container");a.find(".preset_name").removeClass("d-none");a.find(".preset_count").removeClass("d-none");a.find(".preset_name_edit").addClass("d-none");a.find(".preset_memo").addClass("d-none");a.find(".preset_memo_view").text()&&a.find(".preset_memo_view").removeClass("d-none");a.find(".btn_commit").addClass("d-none");a.find(".btn_rollback").addClass("d-none");a.find(".btn_copy").removeClass("d-none");
a.find(".btn_move_folder").removeClass("d-none");a.find(".btn_edit_start").removeClass("d-none");a.find(".btn_add_preset").removeClass("d-none");a.removeClass("editting");a.addClass("sortable_handle")}
function btn_commit_Clicked(a,b){b=void 0===b?null:b;var c=a.closest(".preset_container");if(c.hasClass("folder_header")){var f=setting.presetFolders,d=castInt(c[0].dataset.folderid),g=f.findIndex(function(m){return m.id===d});if(0<=g){var e=c.find(".preset_name_edit").val().trim();80<e.length&&(e=e.slice(0,80),c.find(".preset_name_edit").val(e));c.find(".preset_name").find(".fas").hasClass("opacity4")?c.find(".preset_name").html('<i class="fas fa-folder mr-2 opacity4"></i>'+e):c.find(".preset_name").html('<i class="fas fa-folder-open mr-2"></i>'+
e);f[g].name=e;saveSetting();inform_success("\u30d5\u30a9\u30eb\u30c0\u540d\u306e\u66f4\u65b0\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002")}}else{var h=c[0].dataset.presetid;(f=loadLocalStorage("presets"))||(f=[]);g=f.findIndex(function(m){return m[0]===h});if(0<=g){e=c.find(".preset_name_edit").val().trim();var k=c.find(".preset_memo").val().trim();e&&(50<e.length&&(e=e.slice(0,50),c.find(".preset_name_edit").val(e)),f[g][1]=e,c.find(".preset_name").text(e));400<k.length&&(k=k.slice(0,400),c.find(".preset_memo").val(k));
f[g][3]=k;g=k.replace(/\r?\n/g," ");c.find(".preset_memo_view").text(g);g.trim().length?c.find(".preset_memo_view").removeClass("d-none"):c.find(".preset_memo_view").addClass("d-none");saveLocalStorage("presets",f);inform_success("\u7de8\u6210\u60c5\u5831\u306e\u66f4\u65b0\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002")}}btn_rollback_Clicked(a,b);setTab();$(".fleet_tab.active").removeClass("active")}
function btn_delete_Clicked(a,b){b.stopPropagation();b=$("#modal_confirm");b.find(".modal-body").html('<div class="mt-2">\u7de8\u6210\u3092\u524a\u9664\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f</div>');b[0].dataset.target=a.closest(".preset_container")[0].dataset.presetid;confirmType="deletePreset";b.modal("show")}
function preset_Clicked(a){var b=loadLocalStorage("presets"),c=a[0].dataset.presetid;b=b?b.find(function(d){return d[0]===c}):null;var f={id:getUniqueId(),name:getMaxUntitled(),history:{index:0,histories:["Noi6BpgWgRnX4wtOC2o6ZzgAZL6HhG4QBEZ4ccpEcAZgIYA2AzgKaR7E8kQDMxLEA"]},memo:""};b&&(f.id=b[0],f.name=a.find(".preset_name").text(),f.history.histories[0]=b[2],f.memo=b[3]);(a=loadLocalStorage("activePresets"))||(a={activeId:"",presets:[]});(b=a.presets.find(function(d){return d.id===f.id}))?f=b:a.presets.push(f);
a.activeId=f.id;saveLocalStorage("activePresets",a);window.location.href="../simulator/?p="+f.history.histories[f.history.index]}
function public_preset_Clicked(a){var b=a.closest(".preset_container");a=b[0].dataset.presetdata;var c=b.find(".preset_name").text();b={id:getUniqueId(),name:c,history:{index:0,histories:[a]},memo:b.find(".preset_memo").val()};(c=loadLocalStorage("activePresets"))||(c={activeId:"",presets:[]});c.presets.push(b);c.activeId=b.id;saveLocalStorage("activePresets",c);window.location.href="../simulator/?p="+a}
function btn_share_Clicked(a,b){b.stopPropagation();b=loadLocalStorage("presets");var c=a.closest(".preset_container")[0].dataset.presetid;b&&b.find(function(f){return f[0]===c})?($("#modal_share")[0].dataset.presetId=a.closest(".preset_container")[0].dataset.presetid,$("#modal_share").modal("show")):inform_danger("\u5bfe\u8c61\u306e\u7de8\u6210\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002")}
function btn_copy_Clicked(a,b){b.stopPropagation();b=loadLocalStorage("presets");var c=a.closest(".preset_container")[0].dataset.presetid;(a=b?b.find(function(f){return f[0]===c}):null)?(a={id:getUniqueId(),name:a[1]+"_\u30b3\u30d4\u30fc",history:{index:0,histories:[a[2]]},memo:a[3]},(b=loadLocalStorage("activePresets"))||(b={activeId:"",presets:[]}),b.presets.push(a),b.activeId=a.id,saveLocalStorage("activePresets",b),window.location.href="../simulator/?p="+a.history.histories[a.history.index]):
inform_danger("\u8907\u88fd\u5bfe\u8c61\u306e\u7de8\u6210\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002")}
function btn_move_folder_Clicked(a,b){b.stopPropagation();b=loadLocalStorage("presets");var c=a.closest(".preset_container")[0].dataset.presetid;if(a=b?b.find(function(g){return g[0]===c}):null){b='<option value="0">\u6307\u5b9a\u306a\u3057</option>';for(var f=$jscomp.makeIterator(setting.presetFolders),d=f.next();!d.done;d=f.next())d=d.value,b+='<option value="'+d.id+'">'+d.name+"</option>";$("#preset_folder").html(b);$("#modal_folder_confirm")[0].dataset.target=a[0];$("#modal_folder_confirm").modal("show")}else inform_danger("\u79fb\u52d5\u5bfe\u8c61\u306e\u30d7\u30ea\u30bb\u30c3\u30c8\u30c7\u30fc\u30bf\u304c\u8aad\u307f\u8fbc\u3081\u307e\u305b\u3093\u3067\u3057\u305f\u3002")}
function modal_folder_confirm_ok_Clicked(){var a=loadLocalStorage("presets"),b=$("#modal_folder_confirm")[0].dataset.target,c=a?a.find(function(g){return g[0]===b}):null;if(c){var f=castInt($("#preset_folder").val()),d=setting.presetFolders.find(function(g){return g.id===f});6<=c.length?c[5]=f:5===c.length&&c.push(f);saveLocalStorage("presets",a);inform_success("\u30d7\u30ea\u30bb\u30c3\u30c8\u300e"+c[1]+"\u300f\u3092\u30d5\u30a9\u30eb\u30c0\u30fc\u300e"+(d?d.name:"\u672a\u6307\u5b9a")+"\u300f\u306b\u79fb\u52d5\u3057\u307e\u3057\u305f");
setLocalPresets()}else inform_danger("\u79fb\u52d5\u5bfe\u8c61\u306e\u30d7\u30ea\u30bb\u30c3\u30c8\u30c7\u30fc\u30bf\u304c\u8aad\u307f\u8fbc\u3081\u307e\u305b\u3093\u3067\u3057\u305f\u3002")}function topTab_Clicked(){var a=getActivePreset();a.id?window.location.href="../simulator/?p="+a.history.histories[a.history.index]:preset_Clicked($("#add_new_tab"))}
function version_detail_Clicked(){if(!document.getElementById("version_inform_body").innerHTML){for(var a=CHANGE_LOG.find(function(k){return k.id===LATEST_VERSION}),b=document.createDocumentFragment(),c=$jscomp.makeIterator(a.changes),f=c.next();!f.done;f=c.next()){f=f.value;var d=createDiv("mt-3"),g=document.createElement("div"),e=document.createElement("span");e.className="mr-1 pt-1 badge badge-pill badge-"+(0===f.type?"success":1===f.type?"info":"danger");e.textContent=0===f.type?"\u65b0\u898f":
1===f.type?"\u5909\u66f4":"\u4fee\u6b63";var h=document.createElement("span");h.innerHTML=f.title;g.appendChild(e);g.appendChild(h);d.appendChild(g);f.content&&(g=createDiv("font_size_12 pl-3"),g.innerHTML=f.content,d.appendChild(g));b.appendChild(d)}document.getElementById("version").textContent=a.id;document.getElementById("version_inform_body").appendChild(b);setting.version=a.id;saveSetting();document.getElementsByClassName("version_detail")[0].classList.remove("unread")}$("#modal_version_inform").modal("show")}
function loadSiteHistory(){if(!document.getElementById("site_history_body").innerHTML){for(var a=document.createDocumentFragment(),b=0,c=LATEST_VERSION,f=$jscomp.makeIterator(CHANGE_LOG),d=f.next();!d.done;d=f.next()){d=d.value;var g=createDiv("my-3 ver_log border-bottom"),e=createDiv("py-2","","v"+d.id);if(c===d.id){var h=document.createElement("span");h.className="ml-2 pt-1 badge badge-pill badge-danger";h.textContent="New";e.appendChild(h)}g.appendChild(e);for(e=0;e<d.changes.length;e++){h=d.changes[e];
var k="log_"+b++ +"_"+e,m=document.createElement("div");m.className="py-2 px-2 d-flex collapsed history_item history_item_no_content";var p=document.createElement("div");p.className="d-flex flex-nowrap align-self-center";var r=document.createElement("div");r.className="align-self-center";var u=document.createElement("span");u.className="mr-2 pt-1 badge badge-pill badge-"+(0===h.type?"success":1===h.type?"info":"danger");u.textContent=0===h.type?"\u65b0\u898f":1===h.type?"\u5909\u66f4":"\u4fee\u6b63";
var q=document.createElement("div");q.className="align-self-center";q.innerHTML=h.title;r.appendChild(u);p.appendChild(r);p.appendChild(q);m.appendChild(p);g.appendChild(m);h.content&&(m.dataset.toggle="collapse",m.dataset.target="#"+k,m.classList.remove("history_item_no_content"),m=document.createElement("div"),m.id=k,m.className="border-top collapse history_content",k=document.createElement("div"),k.className="pl-3 py-2 font_size_12",k.innerHTML=h.content,m.appendChild(k),g.appendChild(m));a.appendChild(g)}}b=
document.createElement("div");b.className="mt-2 font_size_12";b.textContent=LAST_UPDATE_DATE;a.appendChild(b);document.getElementById("site_history_body").appendChild(a)}}
function modal_confirm_ok_Clicked(){var a=$("#modal_confirm");if("deletePreset"===confirmType){var b=loadLocalStorage("presets");b=b.filter(function(c){return c[0]!==a[0].dataset.target});saveLocalStorage("presets",b);b=loadLocalStorage("activePresets");b.presets=b.presets.filter(function(c){return c.id!==a[0].dataset.target});saveLocalStorage("activePresets",b);setLocalPresets();inform_success("\u524a\u9664\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002");setTab();a.modal("hide")}else"deleteLocalStorageAll"===
confirmType?(window.localStorage.clear(),setLocalPresets(),setTab(),window.localStorage.clear(),a.modal("hide")):"sendComment"===confirmType&&(send_comment(),a.modal("hide"));$(".fleet_tab.active").removeClass("active")}function first_time_Clicked(){$("#abstract").collapse("show");setTimeout(function(){$("body,html").animate({scrollTop:$("#first_time").offset().top-80},300,"swing")},200);return!1}
function site_manual_Clicked(){$("#abstract").collapse("show");setTimeout(function(){$("body,html").animate({scrollTop:$("#manual").offset().top-80},300,"swing")},200);return!1}
function initializeBoard(){fb||initializeFB();if(fb)fb.collection("comments").orderBy("createdAt","desc").limit(30).onSnapshot(function(a){var b=document.createDocumentFragment();a.forEach(function(c){var f=document.createElement("div");f.className="general_box my-3 px-3 pt-3 pb-1 comment";var d=document.createElement("div");d.className="d-flex mb-1";var g=document.createElement("div");g.className="comment_index text-primary";g.dataset.number=c.data().number;g.textContent=c.data().number+":";var e=
document.createElement("div");e.className="comment_writer ml-1 mr-2";e.textContent=c.data().author;var h=c.data().createdAt?c.data().createdAt.toDate():new Date,k=document.createElement("div");k.className="comment_date opacity6 font_size_11 align-self-center";k.textContent=" -- "+formatDate(h,"yyyy/MM/dd HH:mm:ss");d.appendChild(g);d.appendChild(e);d.appendChild(k);g=new Date;g.setDate(g.getDate()-7);h>g&&(g.setDate(g.getDate()+4),e=document.createElement("div"),e.className="font_size_11 align-self-center ml-1 "+
(h>g?"text-danger":"text-success"),e.textContent="New",d.appendChild(e));h=document.createElement("div");h.className="comment_content align-self-center";h.textContent=c.data().content;f.appendChild(d);f.appendChild(h);b.appendChild(f)});document.getElementById("coment_board").innerHTML="";document.getElementById("coment_board").appendChild(b)});comment_text_Changed()}
function comment_index_Clicked(a){a=castInt(a[0].dataset.number);document.getElementById("comment_text").value.trim().length?document.getElementById("comment_text").value+=">>"+a+"\n":document.getElementById("comment_text").value=">>"+a+"\n";setTimeout(function(){$("body,html").animate({scrollTop:$("#comments").offset().top-20},20,"swing")},20);document.getElementById("comment_text").focus()}
function comment_text_Changed(){var a=document.getElementById("comment_author"),b=document.getElementById("comment_text"),c=b.value,f=c.match(/\n/g),d=!0;"noro"===a.value.trim()?(document.getElementById("author_validate").textContent="\u4f7f\u7528\u3067\u304d\u306a\u3044\u540d\u524d\u3067\u3059\u3002",a.classList.add("is-invalid"),d=!1):20<a.value.trim().length?(document.getElementById("author_validate").textContent="20\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002",
a.classList.add("is-invalid"),d=!1):a.classList.remove("is-invalid");0===c.trim().length?(document.getElementById("comment_validate").textContent="",b.classList.remove("is-invalid"),d=!1):1E3<c.length?(document.getElementById("comment_validate").textContent="1000\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",b.classList.add("is-invalid"),d=!1):f&&15<=f.length?(document.getElementById("comment_validate").textContent="\u898f\u5b9a\u884c\u6570\u3092\u8d85\u3048\u307e\u3057\u305f\u3002\u884c\u6570\u3092\u6e1b\u3089\u3057\u3066\u4e0b\u3055\u3044\u3002",
b.classList.add("is-invalid"),d=!1):b.classList.remove("is-invalid");document.getElementById("btn_send_comment").disabled=!d;d&&(a.classList.remove("is-invalid"),b.classList.remove("is-invalid"))}
function btn_send_comment_Clicked(){var a=$("#modal_confirm");a.find(".modal-body").html('\n\t\t<div>\u30b3\u30e1\u30f3\u30c8\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002</div>\n\t\t<div class="mt-3 font_size_12">\u30fb\u516c\u5e8f\u826f\u4fd7\u306b\u53cd\u3059\u308b\u66f8\u304d\u8fbc\u307f\u306f\u3054\u9060\u616e\u304f\u3060\u3055\u3044\u3002</div>\n\t\t<div class="font_size_12">\u30fb\u9001\u4fe1\u3057\u305f\u5185\u5bb9\u306f\u3001\u539f\u5247\u3042\u3068\u304b\u3089\u5909\u66f4/\u524a\u9664\u306f\u3067\u304d\u307e\u305b\u3093\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</div>\n\t\t<div class="font_size_12">\u30fb\u3069\u3046\u3057\u3066\u3082\u5909\u66f4\u30fb\u524a\u9664\u3057\u305f\u3044\u5834\u5408\u306f\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002</div>\n\t\t<div class="mt-3">\u3088\u308d\u3057\u3051\u308c\u3070\u3001OK\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002</div>\n\t');confirmType=
"sendComment";a.modal("show")}
function send_comment(){if(fb){var a=document.getElementById("comment_author").value.trim(),b=document.getElementById("comment_text").value.trim();a||(a="\u540d\u7121\u3057\u3055\u3093");fb.runTransaction(function(c){var f=fb.collection("comments"),d=f.doc();return c.get(d).then(function(){var g,e,h;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){switch(k.nextAddress){case 1:return k.yield(f.orderBy("createdAt","desc").limit(1).get(),2);case 2:g=k.yieldResult;if(!g){k.jumpTo(0);break}e=
0;return k.yield(Promise.all(g.docs.map(function(m){var p;return $jscomp.asyncExecutePromiseGeneratorProgram(function(r){if(1==r.nextAddress)return r.yield(m.data(),2);if(3!=r.nextAddress)return p=r.yieldResult,r.yield(p.number,3);e=r.yieldResult;r.jumpToEnd()})})),4);case 4:if(!(0<=castInt(e,-1)))return k.return(Promise.reject("ID\u63a1\u756a\u30a8\u30e9\u30fc :",e));h={number:castInt(e)+1,author:a,content:b,createdAt:firebase.firestore.FieldValue.serverTimestamp()};return k.yield(c.set(d,h),6);
case 6:return k.return(h)}})})}).then(function(c){document.getElementById("comment_text").value="";document.getElementById("btn_send_comment").disabled=!0}).catch(function(c){console.error(c);alert("\u30b3\u30e1\u30f3\u30c8\u306e\u6295\u7a3f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002")})}else alert("\u8b0e\u306e\u7406\u7531\u306b\u3088\u308a\u3001\u30b3\u30e1\u30f3\u30c8\u306e\u6295\u7a3f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}
function btn_url_shorten_Clicked(){var a,b,c,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress){a=document.getElementById("btn_url_shorten");b=document.getElementById("input_url");c=b.value.trim();if(a.classList.contains("shortening"))return d.return();a.classList.add("shortening");a.textContent="\u77ed\u7e2e\u4e2d";return c?c.match(/^(https?|ftp)(:\/\/[-_.!~*'()a-zA-Z0-9;\/?:@&=+\$,%#]+)$/)?c.match(/^(https:\/\/aircalc.page.link\/)([.!~*'()a-zA-Z0-9;\/?:@&=+\$,%#]+)$/)?
d.jumpTo(2):d.yield(postURLData(c).then(function(g){g.error||!g.shortLink?(b.value="",inform_danger("\u5165\u529b\u3055\u308c\u305fURL\u306e\u77ed\u7e2e\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")):(b.value=g.shortLink,inform_success("URL\u306e\u77ed\u7e2e\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002"))}).catch(function(g){b.value="";inform_danger("\u5165\u529b\u5024\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}),2):(b.value="",(f=readDeckBuilder(c))?window.location.href=
"../simulator/?predeck="+c:readEquipmentJson(c)?inform_success("\u6240\u6301\u88c5\u5099\u306e\u53cd\u6620\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002"):readShipJson(c)?inform_success("\u5728\u7c4d\u8266\u5a18\u306e\u53cd\u6620\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002"):inform_danger("\u5165\u529b\u5024\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"),d.jumpTo(2)):(b.value="",inform_warning("URL\u3084\u30c7\u30c3\u30ad\u30d3\u30eb\u30c0\u30fc\u5f62\u5f0f\u306e\u6587\u5b57\u5217\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),
d.jumpTo(2))}a.textContent="URL\u77ed\u7e2e";a.classList.remove("shortening");d.jumpToEnd()})}
function public_preset_tab_Shown(){$("#btn_search_preset").parent().removeClass("d-none");$("#map_select").parent().removeClass("d-none");$("#search_preset_parent").addClass("d-none");$("#empty_folder_visible_parent").addClass("d-none");0===castInt($("#presets_order").val())&&($("#presets_order").val(1),$("#presets_order").change(),$("#presets_order").addClass("d-none"));$("#presets_order").find('option[value="0"]').prop("disabled",!0);saveSessionStorage("display_public",!0);if(!$("#map_select").html()){for(var a=
'<option value="0">\u5168\u3066\u306e\u6d77\u57df\uff08\u6700\u65b0\u306e20\u4ef6\uff09</option>',b={},c=$jscomp.makeIterator(WORLD_DATA),f=c.next();!f.done;b={$jscomp$loop$prop$world$42:b.$jscomp$loop$prop$world$42},f=c.next()){f=f.value;b.$jscomp$loop$prop$world$42=f.world;var d=MAP_DATA.filter(function(g){return function(e){return Math.floor(e.area/10)===g.$jscomp$loop$prop$world$42}}(b));a+='<optgroup label="'+f.name+'">';f=$jscomp.makeIterator(d);for(d=f.next();!d.done;d=f.next())d=d.value,a+=
'<option value="'+d.area+'">'+(20<b.$jscomp$loop$prop$world$42?"E":b.$jscomp$loop$prop$world$42)+"-"+d.area%10+" : "+d.name+"</option>"}$("#map_select").html(a);if(a=loadSessionStorage("search_result"))$("#map_select").val(a.map),setPresets(a.presets,!1)}map_select_Changed()}
function public_preset_tab_Hidden(){$("#btn_search_preset").parent().addClass("d-none");$("#map_select").parent().addClass("d-none");$("#search_preset_parent").removeClass("d-none");$("#empty_folder_visible_parent").removeClass("d-none");$("#presets_order").find('option[value="0"]').prop("disabled",!1);$("#presets_order").removeClass("d-none");saveSessionStorage("display_public",!1)}
function site_theme_Changed(a){a=a.attr("id");document.body.classList.remove(setting.themeColor);document.body.classList.add(a);"dark_theme"===a||"dark_gradient_theme"===a||"deep_blue_theme"===a?(mainColor="#e0e0e0",document.body.classList.add("dark-theme")):(mainColor="#000000",document.body.classList.remove("dark-theme"));document.getElementById("input_url").classList.add("form-control-dark");setting.themeColor=a;saveSetting();document.body.style.color=mainColor}
function confirm_tab_close_Clicked(){setting.confirmTabClosing=document.getElementById("confirm_tab_close").checked;saveSetting()}function output_data_Clicked(a){a.hasClass("is-valid")&&copyInputTextToClipboard(a)&&inform_success("\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002")}
function btn_output_url_Clicked(){var a,b,c,f,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(g){if(1==g.nextAddress)return g.setCatchFinallyBlocks(2),a=getModalSharePreset(),b=$("#output_url"),f=c=MYURL+"?d="+a[2],d=!1,g.yield(postURLData(c).then(function(e){e.error||!e.shortLink?console.log(e):(d=!0,f=e.shortLink)}).catch(function(e){return console.error(e)}),4);if(2!=g.nextAddress)return d?(b.val(f),b.nextAll(".valid-feedback").text("\u751f\u6210\u3057\u307e\u3057\u305f\u3002\u4e0a\u8a18URL\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002"),
b.removeClass("is-invalid").addClass("is-valid")):(b.nextAll(".valid-feedback").text("\u751f\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"),b.addClass("is-invalid").removeClass("is-valid")),g.leaveTryBlock(0);g.enterCatchBlock();$("#output_url").addClass("is-invalid").removeClass("is-valid");return g.return()})}
function btn_output_deck_Clicked(){var a=$("#output_deck");a.nextAll(".valid-feedback").text("");a.removeClass("is-invalid").removeClass("is-valid");var b=getModalSharePreset();b&&(b=decodePreset(b[2]),b=convertToDeckBuilder(b[1],b[0]),$("#output_deck").val(b),b?(a.nextAll(".valid-feedback").text("\u751f\u6210\u3057\u307e\u3057\u305f\u3002\u4e0a\u8a18\u6587\u5b57\u5217\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002"),
a.removeClass("is-invalid").addClass("is-valid")):a.addClass("is-invalid").removeClass("is-valid"))}function open_deckBuilder(){var a=getModalSharePreset();a&&(a=decodePreset(a[2]),window.open("http://kancolle-calc.net/deckbuilder.html?predeck="+convertToDeckBuilder(a[1],a[0])))}function open_Jervis(){var a=getModalSharePreset();a&&(a=decodePreset(a[2]),window.open("https://jervis.vercel.app/?predeck="+convertToDeckBuilder(a[1],a[0])))}
function getModalSharePreset(){var a=loadLocalStorage("presets"),b=$("#modal_share")[0].dataset.presetId;a=a?a.find(function(c){return c[0]===b}):null;return a?a:(inform_danger("\u5bfe\u8c61\u306e\u7de8\u6210\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002"),null)}
function btn_output_presets_Clicked(){var a=loadLocalStorage("presets");a&&(document.getElementById("presets_data_output").value=JSON.stringify(a),inform_success("\u51fa\u529b\u3057\u307e\u3057\u305f\u3002"))}function presets_data_output_Clicked(a){a[0].value.trim()&&copyInputTextToClipboard(a)&&inform_success("\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002")}
function btn_load_presets_Clicked(){var a=loadLocalStorage("presets");try{var b=document.getElementById("presets_data_input").value.trim(),c=JSON.parse(b);b=[];for(var f=$jscomp.makeIterator(c),d=f.next();!d.done;d=f.next()){var g=d.value;if(3>g.length)throw"\u9805\u76ee\u6570\u4e0d\u5099\u30a8\u30e9\u30fc";JSON.parse(b64_to_utf8(g[2]));var e=[g[0],g[1],g[2],"",formatDate(new Date,"yyyy/MM/dd HH:mm:ss"),0];6===g.length?(e[3]=g[3],e[4]=g[4],e[5]=g[5]):5===g.length?(e[3]=g[3],e[4]=g[4]):4===g.length&&
(e[3]=g[3]);b.push(e)}saveLocalStorage("presets",b);inform_success("\u5fa9\u5143\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002");document.getElementById("presets_data_input").value="";setLocalPresets()}catch(h){a&&saveLocalStorage("presets",a),inform_danger("\u5fa9\u5143\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u7de8\u6210\u30c7\u30fc\u30bf\u306e\u5fa9\u5143\u3092\u4e2d\u6b62\u3057\u307e\u3057\u305f\u3002")}}
document.addEventListener("DOMContentLoaded",function(){initialize();document.getElementById("btn_top").addEventListener("click",function(){window.location.href="../list/"});$("#header").on("click",".fleet_tab",topTab_Clicked);$("#main").on("click",".version_detail",version_detail_Clicked);$("#main").on("click",".btn_first_time",first_time_Clicked);$("#main").on("click",".btn_site_manual",site_manual_Clicked);$("#main").on("click",".theme_select",function(){site_theme_Changed($(this))});$("#main").on("input",
"#search_preset",setLocalPresets);$("#main").on("change","#presets_order",setLocalPresets);$("#main").on("click","#btn_search_preset",searchUploadedPreset);$("#main").on("change","#map_select",map_select_Changed);$("#main").on("click","#empty_folder_visible",setLocalPresets);$("#main").on("change","#select_preset_level",function(){$("#btn_search_preset").prop("disabled",!1)});$("#public_presets_container").on("click",".preset_container .btn_open",function(){public_preset_Clicked($(this))});$("#public_presets_container").on("click",
".preset_container.more_load",more_load_presets);$("#presets_container").on("click",".preset_container:not(.editting, .folder_header, .folder_selectable)",function(){preset_Clicked($(this))});$("#presets_container").on("click",".btn_edit_start",function(a){btn_edit_start_Clicked($(this),a)});$("#presets_container").on("click",".btn_commit",function(a){btn_commit_Clicked($(this),a)});$("#presets_container").on("click",".btn_rollback",function(a){btn_rollback_Clicked($(this),a)});$("#presets_container").on("click",
".btn_share",function(a){btn_share_Clicked($(this),a)});$("#presets_container").on("click",".btn_copy",function(a){btn_copy_Clicked($(this),a)});$("#presets_container").on("click",".btn_move_folder",function(a){btn_move_folder_Clicked($(this),a)});$("#presets_container").on("click",".btn_delete",function(a){btn_delete_Clicked($(this),a)});$("#presets_container").on("click",".folder_header.editting",function(a){a.stopPropagation()});$("#presets_container").on("click",".btn_add_preset",function(a){btn_add_preset_Clicked($(this),
a)});$("#presets_container").on("click",".btn_commit_folder",function(a){btn_commit_folder_Clicked($(this),a)});$("#presets_container").on("click",".btn_rollback_folder",function(a){btn_rollback_folder_Clicked($(this),a)});$("#presets_container").on("click",".preset_container.folder_selectable",function(){folder_selectable_Clicked($(this))});$("#public_preset_tab").on("shown.bs.tab",public_preset_tab_Shown);$("#public_preset_tab").on("hidden.bs.tab",public_preset_tab_Hidden);$("#site_history").on("show.bs.collapse",
".collapse",loadSiteHistory);$("#site_board").on("show.bs.collapse",".collapse",initializeBoard);$("#site_board").on("click","#btn_send_comment",btn_send_comment_Clicked);$("#site_board").on("input","#comment_author",comment_text_Changed);$("#site_board").on("input","#comment_text",comment_text_Changed);$("#site_board").on("click",".comment_index",function(){comment_index_Clicked($(this))});$("#config_content").on("click","#confirm_tab_close",confirm_tab_close_Clicked);$("#config_content").on("click",
"#btn_output_presets",btn_output_presets_Clicked);$("#config_content").on("focus","#presets_data_output",function(){$(this).select()});$("#config_content").on("click","#presets_data_output",function(){presets_data_output_Clicked($(this))});$("#config_content").on("click","#btn_load_presets",btn_load_presets_Clicked);$("#config_content").on("focus","#presets_data_input",function(){$(this).select()});$("#config_content").on("click","#btn_reset_localStorage",btn_reset_localStorage_Clicked);$("#btn_url_shorten").click(btn_url_shorten_Clicked);
$("#modal_confirm").on("click",".btn_ok",modal_confirm_ok_Clicked);$("#modal_folder_confirm").on("click",".btn_ok",modal_folder_confirm_ok_Clicked);$("#modal_share").on("click",".btn_output_url",btn_output_url_Clicked);$("#modal_share").on("click",".btn_output_deck",btn_output_deck_Clicked);$("#modal_share").on("focus","#output_url",function(){$(this).select()});$("#modal_share").on("focus","#output_deck",function(){$(this).select()});$("#modal_share").on("input","#output_url",function(){$(this).removeClass("is-valid")});
$("#modal_share").on("input","#output_deck",function(){$(this).removeClass("is-valid")});$("#modal_share").on("click","#output_url",function(){output_data_Clicked($(this))});$("#modal_share").on("click","#output_deck",function(){output_data_Clicked($(this))});$("#modal_share").on("click","#open_deckBuilder",open_deckBuilder);$("#modal_share").on("click","#open_jervis",open_Jervis)});
window.onpageshow=function(){document.getElementById("search_preset").value&&(document.getElementById("search_preset").value="",setLocalPresets())};
