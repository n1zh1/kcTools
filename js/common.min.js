var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];if(!(f in c))return;c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var f=a.split(".");a=1===f.length;d=f[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var h=0;h<f.length-1;h++){var e=f[h];if(!(e in d))return;d=d[e]}f=f[f.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[f]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,f,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[f]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[f]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(f):$jscomp.POLYFILL_PREFIX+c+"$"+f),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[f],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var f=d.value}catch(h){return this.context_.yieldAllIterator_=null,this.context_.throw_(h),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,f){function h(e){e.done?d(e.value):Promise.resolve(e.value).then(b,c).then(h,f)}h(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(h,e){this.$jscomp$symbol$id_=h;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,f=function(h){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new b(c+(h||"")+"_"+d++,h)};return f},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(e){return e instanceof f?e:new f(function(g,k){g(e)})}if(a&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return a;b.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var g=this;this.asyncExecuteFunction(function(){g.executeBatch_()})}this.batch_.push(e)};
var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(e){d(e,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var g=0;g<e.length;++g){var k=e[g];e[g]=null;try{k()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e;})};var f=function(e){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var g=this.createResolveAndReject_();
try{e(g.resolve,g.reject)}catch(k){g.reject(k)}};f.prototype.createResolveAndReject_=function(){function e(l){return function(n){k||(k=!0,l.call(g,n))}}var g=this,k=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}};f.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof f)this.settleSameAsPromise_(e);else{a:switch(typeof e){case "object":var g=null!=e;break a;case "function":g=!0;break a;default:g=!1}g?this.resolveToNonPromiseObj_(e):
this.fulfill_(e)}};f.prototype.resolveToNonPromiseObj_=function(e){var g=void 0;try{g=e.then}catch(k){this.reject_(k);return}"function"==typeof g?this.settleSameAsThenable_(g,e):this.fulfill_(e)};f.prototype.reject_=function(e){this.settle_(2,e)};f.prototype.fulfill_=function(e){this.settle_(1,e)};f.prototype.settle_=function(e,g){if(0!=this.state_)throw Error("Cannot settle("+e+", "+g+"): Promise already settled in state"+this.state_);this.state_=e;this.result_=g;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};f.prototype.scheduleUnhandledRejectionCheck_=function(){var e=this;d(function(){if(e.notifyUnhandledRejection_()){var g=$jscomp.global.console;"undefined"!==typeof g&&g.error(e.result_)}},1)};f.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var e=$jscomp.global.CustomEvent,g=$jscomp.global.Event,k=$jscomp.global.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):
"function"===typeof g?e=new g("unhandledrejection",{cancelable:!0}):(e=$jscomp.global.document.createEvent("CustomEvent"),e.initCustomEvent("unhandledrejection",!1,!0,e));e.promise=this;e.reason=this.result_;return k(e)};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)h.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var h=new b;f.prototype.settleSameAsPromise_=function(e){var g=this.createResolveAndReject_();
e.callWhenSettled_(g.resolve,g.reject)};f.prototype.settleSameAsThenable_=function(e,g){var k=this.createResolveAndReject_();try{e.call(g,k.resolve,k.reject)}catch(l){k.reject(l)}};f.prototype.then=function(e,g){function k(m,p){return"function"==typeof m?function(r){try{l(m(r))}catch(q){n(q)}}:p}var l,n,t=new f(function(m,p){l=m;n=p});this.callWhenSettled_(k(e,l),k(g,n));return t};f.prototype.catch=function(e){return this.then(void 0,e)};f.prototype.callWhenSettled_=function(e,g){function k(){switch(l.state_){case 1:e(l.result_);
break;case 2:g(l.result_);break;default:throw Error("Unexpected state: "+l.state_);}}var l=this;null==this.onSettledCallbacks_?h.asyncExecute(k):this.onSettledCallbacks_.push(k);this.isRejectionHandled_=!0};f.resolve=c;f.reject=function(e){return new f(function(g,k){k(e)})};f.race=function(e){return new f(function(g,k){for(var l=$jscomp.makeIterator(e),n=l.next();!n.done;n=l.next())c(n.value).callWhenSettled_(g,k)})};f.all=function(e){var g=$jscomp.makeIterator(e),k=g.next();return k.done?c([]):new f(function(l,
n){function t(r){return function(q){m[r]=q;p--;0==p&&l(m)}}var m=[],p=0;do m.push(void 0),p++,c(k.value).callWhenSettled_(t(m.length-1),n),k=g.next();while(!k.done)})};return f},"es6","es3");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,f=0;f<d;f++){var h=a[f];if(b.call(c,h,f,a))return{i:f,v:h}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var f=d.length;c=c||0;for(0>c&&(c=Math.max(c+f,0));c<f;c++){var h=d[c];if(h===b||Object.is(h,b))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,c||0)}},"es6","es3");
$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,f={next:function(){if(!d&&c<a.length){var h=c++;return{value:b(h,a[h]),done:!1}}d=!0;return{done:!0,value:void 0}}};f[Symbol.iterator]=function(){return f};return f};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(b,c){var d=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===c&&(c=d.length);c=Math.max(0,Math.min(c|0,d.length));for(var f=b.length;0<f&&0<c;)if(d[--c]!=b[--f])return!1;return 0>=f}},"es6","es3");$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).i}},"es6","es3");var setting=null,confirmType=null,loadedDeckBuilders=[];
function loadLocalStorage(a){if(!window.localStorage)return null;try{return JSON.parse(window.localStorage.getItem(a))}catch(b){return null}}
function saveLocalStorage(a,b){if(!window.localStorage||0===a.length)return!1;try{return window.localStorage.setItem(a,JSON.stringify(b)),!0}catch(c){return a=$("#modal_confirm"),a.find(".modal-body").html('\n\t\t\t<div class="h6">\u30c7\u30fc\u30bf\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002</div>\n\t\t\t<div class="m-3 font_size_12">\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u306eLocalStrage\u4fdd\u5b58\u9818\u57df\u4e0a\u9650\u306b\u9054\u3057\u305f\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</div>\n\t\t\t<div class="mx-3 font_size_12">\u4e0d\u8981\u306a\u7de8\u6210\u30c7\u30fc\u30bf\u306e\u524a\u9664\u3084\u3001\u5c55\u958b\u3057\u3066\u3044\u308b\u7de8\u6210\u30bf\u30d6\u3092\u9589\u3058\u3001\u518d\u5ea6\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002</div>\n\t\t'),confirmType=
"strageOver",a.modal("show"),!1}}function deleteLocalStorage(a){if(!window.localStorage||0===a.length)return!1;window.localStorage.removeItem(a);return!0}function loadSessionStorage(a){if(!window.sessionStorage)return null;try{return JSON.parse(window.sessionStorage.getItem(a))}catch(b){return null}}
function saveSessionStorage(a,b){if(!window.sessionStorage||0===a.length)return!1;try{return window.sessionStorage.setItem(a,JSON.stringify(b)),!0}catch(c){return inform_danger("\u30c7\u30fc\u30bf\u4fdd\u5b58\u30a8\u30e9\u30fc"),!1}}
function initializeSetting(){(setting=loadLocalStorage("setting"))||(setting={});setting.hasOwnProperty("version")||(setting.version="0.0.0");setting.hasOwnProperty("adaptedVersion")||(setting.adaptedVersion="0.0.0");setting.hasOwnProperty("simulateCount")||(setting.simulateCount=5E3);setting.hasOwnProperty("emptySlotInvisible")||(setting.emptySlotInvisible=!1);setting.hasOwnProperty("inStockOnly")||(setting.inStockOnly=!1);setting.hasOwnProperty("isDivideStock")||(setting.isDivideStock=!1);setting.hasOwnProperty("visibleEquipped")||
(setting.visibleEquipped=!1);setting.hasOwnProperty("visibleFinal")||(setting.visibleFinal=!0);setting.hasOwnProperty("enemyDisplayImage")||(setting.enemyDisplayImage=!0);setting.hasOwnProperty("enemyFleetDisplayImage")||(setting.enemyFleetDisplayImage=!0);setting.hasOwnProperty("copyToClipboard")||(setting.copyToClipboard=!1);setting.hasOwnProperty("selectedHistory")||(setting.selectedHistory=[[],[]]);setting.hasOwnProperty("orderByFrequency")||(setting.orderByFrequency=!1);setting.hasOwnProperty("themeColor")||
(setting.themeColor="normal_theme");setting.hasOwnProperty("contentsOrder")||(setting.contentsOrder=[]);setting.hasOwnProperty("favoriteOnly")||(setting.favoriteOnly=!1);setting.hasOwnProperty("favoritePlane")||(setting.favoritePlane=[]);setting.hasOwnProperty("visibleEquippedShip")||(setting.visibleEquippedShip=!1);setting.hasOwnProperty("inStockOnlyShip")||(setting.inStockOnlyShip=!1);setting.hasOwnProperty("favoriteOnlyShip")||(setting.favoriteOnlyShip=!1);setting.hasOwnProperty("favoriteShip")||
(setting.favoriteShip=[]);setting.hasOwnProperty("reducedDisplay")||(setting.reducedDisplay=!0);setting.hasOwnProperty("confirmTabClosing")||(setting.confirmTabClosing=!0);setting.hasOwnProperty("presetsOrder")||(setting.presetsOrder=1);setting.hasOwnProperty("uploadUserName")||(setting.uploadUserName="");setting.hasOwnProperty("visibleEmptyFolder")||(setting.visibleEmptyFolder=!1);setting.hasOwnProperty("visibleAntiAirStatus")||(setting.visibleAntiAirStatus=!1);setting.hasOwnProperty("visibleFixedMenu")||
(setting.visibleFixedMenu=!0);setting.hasOwnProperty("managerViewMode")||(setting.managerViewMode="table");setting.hasOwnProperty("createdURLs")||(setting.createdURLs=[]);setting.hasOwnProperty("displaySumCount")||(setting.displaySumCount=!0);if(!setting.hasOwnProperty("defaultProf")){setting.defaultProf=[];var a=PLANE_TYPE.filter(function(d){return 0<d.id&&49!==d.id}),b=[6,9,10,41,45,48];a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())c=c.value,c={id:c.id,prof:b.includes(c.id)?7:
0},setting.defaultProf.push(c)}setting.hasOwnProperty("displayMode")||(setting.displayMode={modal_plane_select:"single",modal_ship_select:"single",modal_enemy_select:"single"});setting.hasOwnProperty("orderBy")||(setting.orderBy={landBase:"default",friendFleet:"default"});setting.hasOwnProperty("planeFilter")||(setting.planeFilter={landBase:["radius",0],friendFleet:["antiAir",0]});if(!setting.hasOwnProperty("presetFolders")){setting.presetFolders=[];for(b=1;20>b;b++)setting.presetFolders.push({id:b,
name:"\u30d5\u30a9\u30eb\u30c0\u30fc"+b,isOpen:!1});setting.presetFolders.push({id:99,name:"\u30b4\u30df\u7bb1",isOpen:!1})}adaptUpdater();saveSetting();setting.reducedDisplay&&reduced_display_Clicked()}
function adaptUpdater(){setting.version!==LATEST_VERSION&&document.getElementsByClassName("version_detail")[0]&&document.getElementsByClassName("version_detail")[0].classList.add("unread");if(setting.adaptedVersion!==LATEST_VERSION){var a=setting.adaptedVersion.split("."),b=castInt(a[1]),c=castInt(a[2]);a=4<=a.length?castInt(a[3]):0;if(8>=b){var d=loadLocalStorage("planeStock");d&&0<d.length&&!d[0].num.length&&deleteLocalStorage("planeStock");setting.hasOwnProperty("copyToClipbord")&&(setting.copyToClipboard=
setting.copyToClipbord,delete setting.copyToClipbord);setting.hasOwnProperty("visibleEquiped")&&(setting.visibleEquipped=setting.visibleEquiped,delete setting.visibleEquiped);deleteLocalStorage("version");deleteLocalStorage("autoSave");deleteLocalStorage("simulateCount");deleteLocalStorage("emptySlotInvisible");deleteLocalStorage("modalDisplayMode");deleteLocalStorage("defaultProf")}9>=b&&(1>c&&(setting.enemyFleetDisplayImage=!0),2>=c&&1>a&&(setting.orderBy={landBase:"default",friendFleet:"default"}));
if(10>=b){if(9>=b){if(presets=loadLocalStorage("presets")){var f=$jscomp.makeIterator(presets);for(d=f.next();!d.done;d=f.next())d=d.value,d[0]=getUniqueId()+d[0];saveLocalStorage("presets",presets)}setting.hasOwnProperty("backUpEnabled")&&delete setting.backUpEnabled;setting.hasOwnProperty("backUpCount")&&delete setting.backUpCount;setting.hasOwnProperty("autoSave")&&delete setting.autoSave;deleteLocalStorage("backUpPresets");deleteLocalStorage("autoSaveData")}if(9>=b||1>c)if(d=loadLocalStorage("planePreset")){f=
$jscomp.makeIterator(d);for(var h=f.next();!h.done;h=f.next()){h=h.value;for(var e=[],g=$jscomp.makeIterator(h.planes),k=g.next();!k.done;k=g.next())e.push({id:k.value,remodel:0});h.planes=e}saveLocalStorage("planePreset",d)}if(9>=b||2>c)if(f=loadLocalStorage("presets")){h=formatDate(new Date,"yyyy/MM/dd HH:mm:ss");e=0;g=$jscomp.makeIterator(f);for(d=g.next();!d.done;d=g.next())d=d.value,5>d.length&&d.push(h+"."+("000"+e++).slice(-3));saveLocalStorage("presets",f)}}if(11>=b&&((10>=b||1>c)&&delete setting.airRaidMax,
10>=b||3>c||3===c&&3>=a)){setting.defaultProf=[];f=PLANE_TYPE.filter(function(l){return 0<l&&49!==l});d=[6,9,10,41,45,48];f=$jscomp.makeIterator(f);for(h=f.next();!h.done;h=f.next())h=h.value,h={id:h,prof:d.includes(h)?7:0},setting.defaultProf.push(h);setting.initialProf120=[]}if(12>=b){11>=b&&(delete setting.invisibleCutin,delete setting.isUnion);if(11>=b||1>c||1===c&&1>a)setting.visibleAntiAirStatus=!0;(11>=b||9>c)&&deleteLocalStorage("shipStock");setting.hasOwnProperty("planeOnly")&&delete setting.planeOnly;
setting.hasOwnProperty("hasSlotOnly")&&delete setting.hasSlotOnly;setting.hasOwnProperty("sanma")&&delete setting.sanma}setting.adaptedVersion=LATEST_VERSION}}function saveSetting(){saveLocalStorage("setting",setting)}
function reduced_display_Clicked(){var a=document.getElementById("reduced_display");a&&(a.classList.contains("checked")?(a.classList.remove("checked"),a.textContent="\u7e2e\u5c0f\u8868\u793aOFF",document.getElementById("main").classList.remove("reduced")):(a.classList.add("checked"),a.textContent="\u7e2e\u5c0f\u8868\u793aON",document.getElementById("main").classList.add("reduced")),setting.reducedDisplay=a.classList.contains("checked"),saveSetting())}
function readDeckBuilder(a){if(!a)return null;-1<a.indexOf("?predeck=")&&(a=a.split("?predeck=")[1]);try{a=decodeURIComponent(a).trim('"');var b=JSON.parse(a),c=[],d=[[],[-1,-1,-1]],f=!1;if(!Object.keys(b).length||!(b.a1||b.a2||b.a3||b.f1||b.f2||b.f3||b.f4))return null;loadedDeckBuilders=[];Object.keys(b).forEach(function(l){var n=b[l];if("version"!==l&&n){if(0===l.indexOf("a")&&n.hasOwnProperty("items")){var t=castInt(l.replace("a",""))-1;d[1][t]=n.hasOwnProperty("mode")?1===n.mode?2:2===n.mode?
0:-1:-1;Object.keys(n.items).forEach(function(r){var q=n.items[r];if(q&&q.hasOwnProperty("id")){var w=[0,0,0,18,castInt(r.replace("i",""))-1+4*t];Object.keys(q).forEach(function(u){"id"===u?w[0]=castInt(q[u]):"mas"===u?w[1]=castInt(q[u]):"rf"===u&&(w[2]=castInt(q[u]))});d[0].push(w)}})}if(0===l.indexOf("f")){var m=castInt(l.replace("f",""))-1,p=[m,[]];f||(f=7===Object.keys(n).length);Object.keys(n).forEach(function(r){var q=n[r];if(q&&q.hasOwnProperty("items")){var w=castInt(q.id),u=SHIP_DATA.find(function(v){return v.api===
w});u||(u={id:0,slot:[0,0,0,0]},unmanageShip=!0);var z=99;q.hasOwnProperty("lv")&&(z=(z=castInt(q.lv))?z:99);var A=-1;q.hasOwnProperty("luck")&&(A=(A=castInt(q.luck))?A:-1);var C=[u.id,[],castInt(r.replace("s",""))-1+(f?7:6)*m,0,z,f?2:0,A];Object.keys(q.items).forEach(function(v){var y=q.items[v];if(y&&y.hasOwnProperty("id")&&ITEM_DATA.find(function(x){return x.id===castInt(y.id)})){v=castInt(v.replace("i",""))-1;var D=0;-1>v||v>=u.slot.length?v=-1:D=castInt(u.slot[v]);var B=[0,0,0,D,v];Object.keys(y).forEach(function(x){"id"===
x?B[0]=castInt(y[x]):"mas"===x?B[1]=castInt(y[x]):"rf"===x&&(B[2]=castInt(y[x]))});C[1].push(B)}});p[1].push(C)}});c.push(p);p[1].some(function(r){return 0<r[0]||r[1].some(function(q){return 0<q[0]})})&&loadedDeckBuilders.push(p.concat())}}});if(c.length){a=[];var h=c.find(function(l){return 0===l[0]}),e=h?h[1]:null;e&&(a=a.concat(e));var g=c.find(function(l){return 1===l[0]}),k=g?g[1]:null;k&&(a=a.concat(k));if(d)return[d,a,[]]}else return[d,[],[]]}catch(l){return null}}
function readShipJson(a){try{var b=JSON.parse(a);a=[];if(!b.length)return!1;for(var c=1,d={},f=$jscomp.makeIterator(b),h=f.next();!h.done;d={$jscomp$loop$prop$id$32:d.$jscomp$loop$prop$id$32,$jscomp$loop$prop$ship$33:d.$jscomp$loop$prop$ship$33},h=f.next()){var e=h.value;d.$jscomp$loop$prop$id$32=0;var g={id:c++,lv:0,exp:0,st:[],ex:0,area:-1};if(e.hasOwnProperty("api_ship_id")&&e.hasOwnProperty("api_lv")&&e.hasOwnProperty("api_exp")&&e.hasOwnProperty("api_kyouka"))d.$jscomp$loop$prop$id$32=castInt(e.api_ship_id),
g.lv=castInt(e.api_lv),g.exp=e.api_exp[0],g.st=e.api_kyouka;else if(e.hasOwnProperty("id")&&e.hasOwnProperty("lv")&&e.hasOwnProperty("st")&&e.hasOwnProperty("exp"))d.$jscomp$loop$prop$id$32=castInt(e.id),g.lv=castInt(e.lv),g.exp=e.exp[0],g.st=e.st;else return!1;e.hasOwnProperty("api_slot_ex")?g.ex=e.api_slot_ex?1:0:e.hasOwnProperty("ex")&&(g.ex=e.ex?1:0);e.hasOwnProperty("api_sally_area")?g.area=e.api_sally_area:e.hasOwnProperty("area")&&(g.area=e.area);d.$jscomp$loop$prop$ship$33=SHIP_DATA.find(function(l){return function(n){return n.api===
l.$jscomp$loop$prop$id$32}}(d));if(d.$jscomp$loop$prop$ship$33){var k=a.find(function(l){return function(n){return n.id===l.$jscomp$loop$prop$ship$33.id}}(d));k?k.details.push(g):a.push({id:d.$jscomp$loop$prop$ship$33.id,details:[g]})}}a.sort(function(l,n){return l.id-n.id});saveLocalStorage("shipStock",a);setting.inStockOnlyShip=!0;saveSetting();return!0}catch(l){return!1}}
function readEquipmentJson(a){try{var b=JSON.parse(a),c=loadPlaneStock();if(!b.length)return!1;for(var d=$jscomp.makeIterator(c),f=d.next();!f.done;f=d.next())f.value.num=[0,0,0,0,0,0,0,0,0,0,0];a={};for(var h=$jscomp.makeIterator(b),e=h.next();!e.done;a={$jscomp$loop$prop$planeId$35:a.$jscomp$loop$prop$planeId$35,$jscomp$loop$prop$planeId$20$36:a.$jscomp$loop$prop$planeId$20$36},e=h.next()){var g=e.value;if(g.hasOwnProperty("api_slotitem_id")&&g.hasOwnProperty("api_level")){a.$jscomp$loop$prop$planeId$35=
g.api_slotitem_id;var k=g.api_level,l=c.find(function(m){return function(p){return p.id===m.$jscomp$loop$prop$planeId$35}}(a));l&&l.num[k]++}else if(g.hasOwnProperty("id")&&g.hasOwnProperty("lv")&&!g.hasOwnProperty("st")){a.$jscomp$loop$prop$planeId$20$36=g.id;var n=g.lv,t=c.find(function(m){return function(p){return p.id===m.$jscomp$loop$prop$planeId$20$36}}(a));t&&t.num[n]++}else return!1}c.sort(function(m,p){return m.id-p.id});saveLocalStorage("planeStock",c);setting.inStockOnly=!0;saveSetting();
return!0}catch(m){return!1}}function decodePreset(a){try{var b=b64_to_utf8(a);return JSON.parse(b)}catch(c){return[[],[],[]]}}
function loadPlaneStock(){var a=loadLocalStorage("planeStock");if(a&&a.length){var b={},c=$jscomp.makeIterator(ITEM_DATA);for(d=c.next();!d.done;b={$jscomp$loop$prop$plane$23$38:b.$jscomp$loop$prop$plane$23$38},d=c.next())b.$jscomp$loop$prop$plane$23$38=d.value,a.find(function(f){return function(h){return h.id===f.$jscomp$loop$prop$plane$23$38.id}}(b))||(a.push({id:b.$jscomp$loop$prop$plane$23$38.id,num:[0,0,0,0,0,0,0,0,0,0,0]}),saveLocalStorage("planeStock",a))}else{a=[];b=$jscomp.makeIterator(ITEM_DATA);
for(var d=b.next();!d.done;d=b.next())a.push({id:d.value.id,num:[0,0,0,0,0,0,0,0,0,0,0]});a=a.concat();saveLocalStorage("planeStock",a)}return a}function loadShipStock(){return loadLocalStorage("shipStock")||[]}function getUniqueId(){return(new Date).getTime().toString(16)}function castInt(a,b){b=void 0===b?0:b;a=parseInt(a);return isNaN(a)?b:a}function castFloat(a,b){b=void 0===b?0:b;a=parseFloat(a);return isNaN(a)?b:a}
function utf8_to_b64(a){try{return LZString.compressToEncodedURIComponent(a)}catch(b){return""}}function b64_to_utf8(a){try{return LZString.decompressFromEncodedURIComponent(a)}catch(b){return""}}function copyInputTextToClipboard(a){try{if(!a.attr("id"))return!1;document.getElementById(a.attr("id")).select();return document.execCommand("copy")}catch(b){return!1}}
function hexToRGB(a){"#"==a.slice(0,1)&&(a=a.slice(1));3==a.length&&(a=a.slice(0,1)+a.slice(0,1)+a.slice(1,2)+a.slice(1,2)+a.slice(2,3)+a.slice(2,3));return[a.slice(0,2),a.slice(2,4),a.slice(4,6)].map(function(b){return parseInt(b,16)})}
function convertHeaderText(a){"default"===a?a="\u30ab\u30c6\u30b4\u30ea":"history"===a?a="\u3088\u304f\u4f7f\u3046":"id"===a?a="\u56f3\u9451No":"antiAir"===a?a="\u5bfe\u7a7a":"battleAntiAir"===a?a="\u51fa\u6483\u5bfe\u7a7a":"defenseAntiAir"===a?a="\u9632\u7a7a\u5bfe\u7a7a":"antiAirWeight"===a?a="\u52a0\u91cd\u5bfe\u7a7a":"antiAirBonus"===a?a="\u8266\u968a\u9632\u7a7a":"fire"===a?a="\u706b\u529b":"torpedo"===a?a="\u96f7\u88c5":"bomber"===a?a="\u7206\u88c5":"accuracy"===a?a="\u547d\u4e2d":"scout"===
a?a="\u7d22\u6575":"asw"===a?a="\u5bfe\u6f5c":"antiBomber"===a?a="\u5bfe\u7206":"interception"===a?a="\u8fce\u6483":"radius"===a?a="\u534a\u5f84":"cost"===a?a="\u30b3\u30b9\u30c8":"avoid"===a?a="\u5c04\u6483\u56de\u907f":"avoid2"===a?a="\u56de\u907f":"armor"===a?a="\u88c5\u7532":"land_base_power"===a&&(a="\u57fa\u5730\u706b\u529b");return a}
function convertToDeckBuilder(a,b,c){c=void 0===c?!1:c;try{for(var d={version:4,hqlv:castInt($("#admin_lv").val()),f1:{},f2:{},f3:{},a1:{mode:0,items:{}},a2:{mode:0,items:{}},a3:{mode:0,items:{}}},f=$jscomp.makeIterator(b[0]),h=f.next();!h.done;h=f.next()){var e=h.value;d["a"+(Math.floor(e[4]/4)+1)].items["i"+(Math.floor(e[4]%4)+1)]={id:e[0],rf:e[2],mas:e[1]}}for(f=0;f<b[1].length;f++){var g=b[1][f];d["a"+(f+1)].mode=0<g?1:0===g?2:0}var k=a.length&&6<=a[0].length&&2===a[0][5]?7:6;b={};for(g=0;g<a.length;b=
{$jscomp$loop$prop$ship$40:b.$jscomp$loop$prop$ship$40},g++){b.$jscomp$loop$prop$ship$40=a[g];var l=SHIP_DATA.find(function(q){return function(w){return w.id===q.$jscomp$loop$prop$ship$40[0]}}(b));if(l&&(!c||!b.$jscomp$loop$prop$ship$40[3])){f={i1:null,i2:null,i3:null,i4:null,i5:null};for(var n=$jscomp.makeIterator(b.$jscomp$loop$prop$ship$40[1]),t=n.next();!t.done;t=n.next()){var m=t.value;f["i"+(0<=m[4]?m[4]+1:"x")]={id:m[0],rf:m[2],mas:m[1]}}var p={id:""+l.api,lv:b.$jscomp$loop$prop$ship$40[4],
luck:b.$jscomp$loop$prop$ship$40[6],items:f},r=b.$jscomp$loop$prop$ship$40[2];r<k?(d.f1["s"+(r%k+1)]=p,7===k&&(d.f3["s"+(r%k+1)]=p)):d.f2["s"+(r%k+1)]=p}}return JSON.stringify(d)}catch(q){return""}}
function convertToDeckBuilder_j(a,b,c){c=void 0===c?!1:c;try{for(var d={version:1,name:getActivePreset().name,hqLevel:castInt($("#admin_lv").val()),side:"Player",fleetType:$("#union_fleet").prop("checked")?"CarrierTaskForce":"Single",fleets:[{ships:[]},{ships:[]},{ships:[]},{ships:[]}],landBase:[{slots:[],equipments:[null,null,null,null]},{slots:[],equipments:[null,null,null,null]},{slots:[],equipments:[null,null,null,null]}]},f={},h=0;h<b[0].length;f={$jscomp$loop$prop$plane$42:f.$jscomp$loop$prop$plane$42},
h++){f.$jscomp$loop$prop$plane$42=b[0][h];var e=d.landBase[Math.floor(f.$jscomp$loop$prop$plane$42[4]/4)],g=Math.floor(f.$jscomp$loop$prop$plane$42[4]%4);e.slots[g]=f.$jscomp$loop$prop$plane$42[3];e.equipments[g]={masterId:f.$jscomp$loop$prop$plane$42[0],improvement:f.$jscomp$loop$prop$plane$42[2],proficiency:getProf(f.$jscomp$loop$prop$plane$42[1],ITEM_DATA.find(function(m){return function(p){return p.id===m.$jscomp$loop$prop$plane$42[0]}}(f)).type)}}var k=a.length&&6<=a[0].length&&2===a[0][5]?7:
6;b={};for(f=0;f<a.length;b={$jscomp$loop$prop$ship$44:b.$jscomp$loop$prop$ship$44,$jscomp$loop$prop$shipData$50:b.$jscomp$loop$prop$shipData$50},f++)if(b.$jscomp$loop$prop$ship$44=a[f],b.$jscomp$loop$prop$shipData$50=SHIP_DATA.find(function(m){return function(p){return p.id===m.$jscomp$loop$prop$ship$44[0]}}(b)),b.$jscomp$loop$prop$shipData$50){var l=d.fleets[b.$jscomp$loop$prop$ship$44[2]<k?0:1];h=[];var n={masterId:b.$jscomp$loop$prop$shipData$50.api,level:b.$jscomp$loop$prop$ship$44[4],slots:[],
increased:{luck:b.$jscomp$loop$prop$ship$44[6]-b.$jscomp$loop$prop$shipData$50.luck},equipments:h};for(e={$jscomp$loop$prop$j$47:0};e.$jscomp$loop$prop$j$47<b.$jscomp$loop$prop$shipData$50.slot.length;e={$jscomp$loop$prop$j$47:e.$jscomp$loop$prop$j$47},e.$jscomp$loop$prop$j$47++){var t=b.$jscomp$loop$prop$shipData$50.slot.length>e.$jscomp$loop$prop$j$47?b.$jscomp$loop$prop$shipData$50.slot[e.$jscomp$loop$prop$j$47]:0;b.$jscomp$loop$prop$ship$44[1].find(function(m){return function(p){return p[4]===
m.$jscomp$loop$prop$j$47}}(e))&&(t=b.$jscomp$loop$prop$ship$44[1].find(function(m){return function(p){return p[4]===m.$jscomp$loop$prop$j$47}}(e))[3]);n.slots.push(t)}for(e={$jscomp$loop$prop$i$28$49:0};e.$jscomp$loop$prop$i$28$49<b.$jscomp$loop$prop$shipData$50.slot.length+1;e={$jscomp$loop$prop$i$28$49:e.$jscomp$loop$prop$i$28$49,$jscomp$loop$prop$item$51:e.$jscomp$loop$prop$item$51},e.$jscomp$loop$prop$i$28$49++)e.$jscomp$loop$prop$item$51=b.$jscomp$loop$prop$ship$44[1].find(function(m,p){return function(r){return r[4]===
(m.$jscomp$loop$prop$i$28$49>=p.$jscomp$loop$prop$shipData$50.slot.length?-1:m.$jscomp$loop$prop$i$28$49)}}(e,b)),e.$jscomp$loop$prop$item$51?h.push({masterId:e.$jscomp$loop$prop$item$51[0],improvement:e.$jscomp$loop$prop$item$51[2],proficiency:getProf(e.$jscomp$loop$prop$item$51[1],ITEM_DATA.find(function(m){return function(p){return p.id===m.$jscomp$loop$prop$item$51[0]}}(e)).type)}):h.push({masterId:0,improvement:0,proficiency:0});c&&b.$jscomp$loop$prop$ship$44[3]||l.ships.push(n)}return JSON.stringify(d)}catch(m){return""}}
function getProf(a,b){switch(a){case 7:return setting.initialProf120.includes(Math.abs(b))?120:100;case 0:return 0;case 1:return 10;case 2:return 25;case 3:return 40;case 4:return 55;case 5:return 70;case 6:return 85;default:return 0}}function getUrlParams(){var a=location.search;if(""===a)return{};var b={};a=$jscomp.makeIterator(a.slice(1).split("&"));for(var c=a.next();!c.done;c=a.next())c=c.value.split("="),b[c[0]]=c[1];window.history.replaceState(null,null,location.pathname);return b}
function AutoLink(a){return a.replace(/((h?)(ttps?:\/\/[a-zA-Z0-9.\-_@:/~?%&;=+#',()*!]+))/g,function(b,c,d,f){return'<a href="h'+f+'" target="_blank">'+c+"</a>"})}function inform_success(a){inform_custom_alert(a,0)}function inform_warning(a){inform_custom_alert(a,1)}function inform_danger(a){inform_custom_alert(a,2)}
function inform_custom_alert(a,b){var c=document.getElementById("custom_alert_wraper");c.innerHTML="";var d=document.createElement("div");d.id="custom_alert_body";d.textContent=a;switch(b){case 0:d.className="alert-success";break;case 1:d.className="alert-warning";break;case 2:d.className="alert-danger"}c.appendChild(d)}
function formatDate(a,b){b=b.replace(/yyyy/g,a.getFullYear());b=b.replace(/yy/g,a.getFullYear()%100);b=b.replace(/MM/g,("0"+(a.getMonth()+1)).slice(-2));b=b.replace(/dd/g,("0"+a.getDate()).slice(-2));b=b.replace(/HH/g,("0"+a.getHours()).slice(-2));b=b.replace(/mm/g,("0"+a.getMinutes()).slice(-2));b=b.replace(/ss/g,("0"+a.getSeconds()).slice(-2));return b=b.replace(/SSS/g,("00"+a.getMilliseconds()).slice(-3))}
function postURLData(a){var b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){return 1==c.nextAddress?(b={longDynamicLink:"https://aircalc.page.link/?link="+a,suffix:{option:"SHORT"}},c.yield(fetch("https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key="+xxx,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then(function(d){return d.json()}),2)):c.return(c.yieldResult)})}
function createDiv(a,b,c){a=void 0===a?"":a;b=void 0===b?"":b;c=void 0===c?"":c;var d=document.createElement("div");a&&(d.className=a);b&&(d.id=b);c&&(d.textContent=c);return d}function showTooltip(a,b,c,d){c=void 0===c?"":c;d=void 0===d?"":d;$(a).tooltip("dispose");a.title=b;a.dataset.toggle="tooltip";a.dataset.html=!0;a.dataset.trigger="manual";c&&(a.dataset.placement=c);d&&(a.dataset.boundary=d);$(a).tooltip("show")}
function hideTooltip(a){$(a).tooltip("hide");a.removeAttribute("title");delete a.dataset.originalTitle;delete a.dataset.html;delete a.dataset.toggle;delete a.dataset.placement;delete a.dataset.boundary;delete a.dataset.trigger;$(a).tooltip("dispose")}
function setTab(){var a=loadLocalStorage("activePresets");a||(a={activeId:"",presets:[]});for(var b=loadLocalStorage("presets"),c=document.createDocumentFragment(),d={},f=$jscomp.makeIterator(a.presets),h=f.next();!h.done;d={$jscomp$loop$prop$tabData$53:d.$jscomp$loop$prop$tabData$53},h=f.next()){d.$jscomp$loop$prop$tabData$53=h.value;var e=b?b.find(function(n){return function(t){return t[0]===n.$jscomp$loop$prop$tabData$53.id}}(d)):null;h=document.createElement("div");h.className="d-flex fleet_tab "+
(a.activeId===d.$jscomp$loop$prop$tabData$53.id?"active":"");h.dataset.presetid=d.$jscomp$loop$prop$tabData$53.id;var g=document.createElement("div");g.className="align-self-center fleet_tab_icon";if(e){var k=d.$jscomp$loop$prop$tabData$53.history.histories[d.$jscomp$loop$prop$tabData$53.history.index];g.style.color="#adf";e[2]!==k?(g.innerHTML="&#8727;",h.classList.add("unsaved")):g.innerHTML='<i class="fas fa-file-text"></i>'}else g.innerHTML="&#63;",g.style.color="#fff",h.classList.add("unsaved");
k=document.createElement("div");k.className="align-self-center fleet_name ml-2 flex-grow-1";k.textContent=e?e[1]:d.$jscomp$loop$prop$tabData$53.name?d.$jscomp$loop$prop$tabData$53.name:"\u7121\u984c";h.dataset.presetname=k.textContent;e=document.createElement("input");e.type="text";e.maxLength=50;e.className=" ml-2 d-none fleet_name_input flex-grow-1";e.value=k.textContent;var l=document.createElement("div");l.className="align-self-center btn_close_tab ml-auto";l.innerHTML="&times;";h.appendChild(g);
h.appendChild(k);h.appendChild(e);h.appendChild(l);c.appendChild(h)}20>a.presets.length&&(a=createDiv("d-flex fleet_tab","add_new_tab"),a.dataset.presetid="",a.dataset.presetname="\u65b0\u3057\u3044\u7de8\u6210\u30bf\u30d6\u3092\u958b\u304f",b=createDiv(),b.innerHTML="&#43",a.appendChild(b),c.appendChild(a));document.getElementById("fleet_tab_container").innerHTML="";document.getElementById("fleet_tab_container").appendChild(c)}
function activeTabChanged(a){$("#header .fleet_tab").removeClass("active");a.addClass("active");var b=loadLocalStorage("activePresets");b||(b={activeId:"",presets:[]});b.activeId=a[0].dataset.presetid;saveLocalStorage("activePresets",b)}
function btn_add_new_tab_Clicked(){$("#header .fleet_tab").removeClass("active");$("#fleet_tab_container .fleet_tab").tooltip("hide");$("#fleet_tab_container .fleet_tab").tooltip("dispose");var a=loadLocalStorage("activePresets");a||(a={activeId:"",presets:[]});a.activeId="";saveLocalStorage("activePresets",a)}
function closeActiveTab(a){a=a.closest(".fleet_tab");if(a.hasClass("unsaved")&&setting.confirmTabClosing){var b=$("#modal_confirm");b.find(".modal-body").html('\n\t\t\t<div class="h6">\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u5185\u5bb9\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u307e\u307e\u30bf\u30d6\u3092\u9589\u3058\u307e\u3059\u304b\uff1f</div>\n\t\t\t<div class="mt-3 font_size_12">\u623b\u3063\u3066\u4fdd\u5b58\u3059\u308b\u306b\u306f\u3001\u753b\u9762\u4e0a\u90e8\u306e\u300c\u7de8\u6210\u4fdd\u5b58\u300d\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002</div>\n\t\t\t<div class="font_size_12">\u5909\u66f4\u5185\u5bb9\u3092\u7834\u68c4\u3057\u3066\u30bf\u30d6\u3092\u9589\u3058\u308b\u5834\u5408\u306f\u3001\u3053\u306e\u307e\u307eOK\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002</div>\n\t\t\t<div class="mt-3 font_size_11">\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u7de8\u6210\u4e00\u89a7\u30da\u30fc\u30b8\u306e\u300c\u5171\u901a\u8a2d\u5b9a\u300d\u6b04\u3067\u7121\u52b9\u306b\u3067\u304d\u307e\u3059\u3002</div>\n\t\t');b[0].dataset.target=
a[0].dataset.presetid;confirmType="deleteTab";b.modal("show")}else closeTab(a[0].dataset.presetid)}function closeTab(a){$("#fleet_tab_container .fleet_tab").tooltip("hide");$("#fleet_tab_container .fleet_tab").tooltip("dispose");var b=loadLocalStorage("activePresets");b.presets=b.presets.filter(function(c){return c.id!==a});b.activeId===a&&(b.activeId="");saveLocalStorage("activePresets",b);b.presets.length||window.location.href.endsWith("/list/")?setTab():window.location.href="../list/"}
function getActivePreset(){var a=loadLocalStorage("activePresets"),b={id:"",name:"",history:{index:0,histories:[]},memo:""},c=$("#fleet_tab_container").find(".fleet_tab.active")[0];if(a&&a.activeId)if(c&&a.activeId===c.dataset.presetid){var d=a.presets.find(function(f){return f.id===a.activeId});d&&(b=d)}else c&&(d=a.presets.find(function(f){return f.id===c.dataset.presetid}))&&(b=d,a.activeId=c.dataset.presetid,saveLocalStorage("activePresets",a));else c&&(d=a.presets.find(function(f){return f.id===
c.dataset.presetid}))&&(b=d,a.activeId=c.dataset.presetid,saveLocalStorage("activePresets",a));return b}function updateActivePreset(a){var b=loadLocalStorage("activePresets");b||(b={activeId:"",presets:[]});var c=b.presets.findIndex(function(d){return d.id===a.id});0<=c?b.presets[c]=a:(b.presets.push(a),b.activeId=a.id,setTab());saveLocalStorage("activePresets",b)}var xxx="AIzaSyC_rEnvKFFlZv54xvxP8MXPht081xYol4s";
function getMaxUntitled(){var a=loadLocalStorage("activePresets");if(!a)return"\u7121\u984c1";var b=/\u7121\u984c\d+/,c=0;a=$jscomp.makeIterator(a.presets);for(var d=a.next();!d.done;d=a.next())d=d.value,b.test(d.name)&&(d=castInt(d.name.replace("\u7121\u984c","")),c<d&&(c=d));return"\u7121\u984c"+(c+1)}
function btn_reset_localStorage_Clicked(){var a=$("#modal_confirm");a.find(".modal-body").html('\n\t\t<div>\u30d6\u30e9\u30a6\u30b6\u306b\u4fdd\u5b58\u3055\u308c\u305f\u5165\u529b\u30fb\u8a2d\u5b9a\u30c7\u30fc\u30bf\u3092\u524a\u9664\u3057\u307e\u3059\u3002</div>\n\t\t<div class="mt-3">\u767b\u9332\u30fb\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u7de8\u6210\u30c7\u30fc\u30bf\u3084\u88c5\u5099\u30d7\u30ea\u30bb\u30c3\u30c8\u3001\u6240\u6301\u88c5\u5099\u60c5\u5831\u3084\u5404\u7a2e\u8a73\u7d30\u8a2d\u5b9a\u5024\u306a\u3069\u5168\u3066\u306e\u30c7\u30fc\u30bf\u304c\u524a\u9664\u3055\u308c\u307e\u3059\u3002</div>\n\t\t<div>\u524a\u9664\u3057\u305f\u30c7\u30fc\u30bf\u306f\u5143\u306b\u623b\u305b\u307e\u305b\u3093\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</div>\n\t\t<div class="mt-3">\u672c\u30b5\u30a4\u30c8\u306e\u5229\u7528\u3092\u4e2d\u6b62\u3059\u308b\u5834\u5408\u3001\u524a\u9664\u5f8c\u306b\u30da\u30fc\u30b8\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u3057\u307e\u3046\u3068\u518d\u5ea6\u8a2d\u5b9a\u30c7\u30fc\u30bf\u304c\u751f\u6210\u3055\u308c\u308b\u305f\u3081\u3001\u524a\u9664\u5f8c\u306f\u76f4\u3061\u306b\u30b5\u30a4\u30c8\u3092\u9589\u3058\u3066\u304f\u3060\u3055\u3044\u3002</div>\n\t\t<div class="mt-3">\u3088\u308d\u3057\u3051\u308c\u3070\u3001OK\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002</div>\n\t');confirmType=
"deleteLocalStorageAll";a.modal("show")}var fb=null;function initializeFB(){firebase.initializeApp({apiKey:xxx,projectId:"development-74af0"});fb=firebase.firestore()}
document.addEventListener("DOMContentLoaded",function(){var a=SHIP_DATA.filter(function(c){return 311===c.orig});a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b.value.type=9;initializeSetting();$("#header").on("click","#reduced_display",reduced_display_Clicked);$("#header").on("click",".fleet_tab",function(){activeTabChanged($(this))});$("#header").on("click",".btn_close_tab",function(c){c.stopPropagation();closeActiveTab($(this))});$("#header").on({mousedown:function(c){if(1===
c.button)return c.stopPropagation(),closeActiveTab($(this)),!1}},".fleet_tab");$("#modal_confirm").on("hide.bs.modal",function(){"Error"!==confirmType&&(confirmType=null)});$("#modal_confirm").on("click",".btn_ok",function(){var c=$("#modal_confirm");"deleteTab"===confirmType?(closeTab(c[0].dataset.target),c.modal("hide")):"strageOver"===confirmType&&c.modal("hide")});$("#fleet_tab_container").on({mouseenter:function(){var c=$(this);timer=setTimeout(function(){showTooltip(c[0],c[0].dataset.presetname)},
500)},mouseleave:function(){timer&&clearTimeout(timer);hideTooltip($(this)[0])}},".fleet_tab");Sortable.create(document.getElementById("fleet_tab_container"),{animation:200,delay:100,handle:".fleet_tab:not(.editting)",scroll:!0,filter:"#add_new_tab",onEnd:function(){var c=loadLocalStorage("activePresets");if(c){for(var d={activeId:"",presets:[]},f={},h=$jscomp.makeIterator(document.getElementsByClassName("fleet_tab")),e=h.next();!e.done;f={$jscomp$loop$prop$tab$55:f.$jscomp$loop$prop$tab$55},e=h.next())f.$jscomp$loop$prop$tab$55=
e.value,(e=c.presets.find(function(g){return function(k){return k.id===g.$jscomp$loop$prop$tab$55.dataset.presetid}}(f)))&&d.presets.push(e);d.activeId=c.activeId;saveLocalStorage("activePresets",d)}}});$("#header").on("click","#btn_goto_manager",function(){window.location.href="../manager/"})});
